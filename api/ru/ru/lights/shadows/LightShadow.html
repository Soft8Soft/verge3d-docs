<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <base href="../../../../" />
    <script src="page.js"></script>
    <link type="text/css" rel="stylesheet" href="page.css" />
  </head>
  <body>

    <h1>[name]</h1>

    <p class="desc">
      Служит базовым классом для других теневых классов.
    </p>


    <h2>Конструктор</h2>

    <h3>[name]([param:Camera camera])</h3>
    <p>
    [page:Camera camera] — взгляд на мир со стороны света.<br><br>

    Создает новый [name]. Этот класс не предназначен для прямого вызова - он используется в качестве базового класса другими световыми тенями.
    </p>

    <h2>Свойства</h2>

    <h3>[property:Boolean autoUpdate]</h3>
    <p>
      Включает автоматическое обновление тени света. По умолчанию *true*. Если вам не требуется динамическое освещение/тени, вы можете установить значение *false*.
    </p>

    <h3>[property:Camera camera]</h3>
    <p>
      Вид света на мир. Это используется для создания карты глубины сцены; объекты, расположенные за другими объектами с точки зрения света, будут находиться в тени.
    </p>

    <h3>[property:Float bias]</h3>
    <p>
      Смещение карты теней, сколько прибавлять или вычитать из нормализованной глубины при определении того, находится ли поверхность в тени.<br>
      По умолчанию установлено значение 0. Очень маленькие корректировки здесь (порядка 0.0001) могут помочь уменьшить артефакты в тенях.
    </p>

    <!--Verge3D-->

    <h3>[property:Float expBias]</h3>
    <p>
      Экспоненциальное смещение для [page:Renderer ESMShadowMap], чтобы уменьшить утечку света, которая может произойти вблизи окклюдера.<br>
      По умолчанию - 1. Увеличение этого параметра уменьшает утечку света, но делает тени менее мягкими и делает артефакты самозатенения немного более заметными.
    </p>

    <h3>[property:Boolean isLightShadow]</h3>
    <p>
      Используется для проверки того, является ли данный или производные классы светотенями. По умолчанию *true*.<br><br>

      Вы не должны изменять это значение, так как оно используется для внутренней оптимизации.
    </p>

    <h3>[property:WebGLRenderTarget map]</h3>
    <p>
      Карта глубины, создаваемая с помощью внутренней камеры; место, находящееся за пределами глубины пикселя, находится в тени. Вычисляется внутренне во время рендеринга.
    </p>

    <h3>[property:WebGLRenderTarget mapPass]</h3>
    <p>
      Карта распределения, созданная с помощью внутренней камеры; окклюзия рассчитывается на основе распределения глубин. Вычисляется внутри во время рендеринга.
    </p>

    <h3>[property:Vector2 mapSize]</h3>
    <p>
      [Page:Vector2], определяющий ширину и высоту карты теней.<br><br>

      Большие значения дают лучшее качество теней ценой времени вычислений. Значения должны быть равны 2, вплоть до [page:WebGLRenderer.capabilities].maxTextureSize для данного устройства, хотя ширина и высота не обязательно должны быть одинаковыми (например, (512, 1024)). По умолчанию используется значение *(512, 512)*.
    </p>

    <h3>[property:Matrix4 matrix]</h3>
    <p>
      Модель для пространства камеры тени, для вычисления местоположения и глубины в карте теней. Хранится в [page:Matrix4 Matrix4]. Вычисляется внутри во время рендеринга.
    </p>

    <h3>[property:Boolean needsUpdate]</h3>
    <p>
      Если установлено значение *true*, карты теней будут обновлены в следующем вызове *render*. По умолчанию *false*. Если вы установили [page:.autoUpdate] в *false*, вам нужно установить это свойство в *true* и затем выполнить вызов рендеринга для обновления тени света.
    </p>

    <h3>[property:Float normalBias]</h3>
    <p>
      Определяет, насколько позиция, используемая для запроса карты теней, смещена вдоль нормали объекта. По умолчанию 0. Увеличение этого значения может быть использовано для уменьшения акне теней, особенно в больших сценах, где свет падает на геометрию под малым углом. В результате тени могут выглядеть искаженными.
    </p>

    <h3>[property:Float radius]</h3>
    <p>
      Если установить значение этого параметра больше 1, края тени будут размыты.<br>

      Высокие значения вызовут нежелательные эффекты полосатости в тенях - большее значение [page:.mapSize mapSize] позволит использовать здесь более высокое значение, прежде чем эти эффекты станут заметны.<br>
      Если [page:WebGLRenderer.shadowMap.type] имеет значение [page:Renderer PCFSoftShadowMap], радиус не влияет, и вместо этого рекомендуется увеличить мягкость, уменьшив [page:.mapSize mapSize].<br><br>

      Обратите внимание, что это не имеет эффекта, если [page:WebGLRenderer.shadowMap.type] установлен в [page:Renderer BasicShadowMap].
    </p>

    <!--Verge3D-->

    <h3>[property:Number slopeScaledBias]</h3>
    <p>
      Адаптивное смещение, которое зависит от наклона полигона относительно камеры света.
      По умолчанию 0.<br><br>

      Используется в основном для наложения теней.
    </p>


    <h2>Методы</h2>

    <h3>[method:Vector2 getFrameExtents]()</h3>
    <p>
      Используется внутри рендерера для расширения карты теней на все видовые экраны.
    </p>

    <h3>[method:null updateMatrices]([param:Light light])</h3>
    <p>
      Обновление матриц для камеры и тени, используемых внутри рендерера.<br><br>

    light -- свет, для которого создается тень.
    </p>

    <h3>[method:Frustum getFrustum]()</h3>
    <p>
      Получает фрустум камеры тени. Используется рендерером для обводки объектов.
    </p>

    <h3>[method:number getViewportCount]()</h3>
    <p>
      Используется внутри рендерера для получения количества видовых экранов, которые должны быть отрисованы для этой тени.
    </p>

    <h3>[method:LightShadow copy]([param:LightShadow source])</h3>
    <p>
      Копирует значение всех свойств из источника [page:LightShadow source] в этот Light.
    </p>

    <h3>[method:LightShadow clone]()</h3>
    <p>
      Создает новый LightShadow с теми же свойствами, что и этот.
    </p>

    <!--Verge3D-->

    <h3>[method:null dispose]()</h3>
    <p>
      Удаляет цели рендеринга карты теней из памяти. <br>
      Вы должны вызвать эту функцию, когда хотите удалить ресурсы теневой карты во время работы приложения.
    </p>

    [sourceHint]
  </body>
</html>
