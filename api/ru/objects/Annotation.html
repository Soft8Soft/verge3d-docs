<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8">
    <base href="../../../">
    <script src="page.js"></script>
    <link type="text/css" rel="stylesheet" href="page.css">
  </head>
  <body>
    [page:Object3D] &rarr; [page:AnnotationControl] &rarr;

    <h1>[name]</h1>

    <p class="desc">
      Этот класс используется для создания и отображения 2D HTML спрайтов, называемых аннотациями. Аннотация может содержать необязательный текст в диалоговом окне (или HTML-макет), который появляется, когда пользователь нажимает на метку аннотации.
    </p>
  
    <img src="files/api/annotation.jpg" class="centered" style="max-width: 819px;">

    <h2>Пример</h2>

    <code>
var annotation = new v3d.Annotation(container, 'A', 'Hello! ...');
app.scene.add(annotation);
    </code>

    <h2>Стили</h2>
    <p>
      Verge3D предлагает два класса CSS для определения внешнего вида аннотаций:
      <ul>
        <li><strong>.v3d-annotation</strong> - используется для меток аннотаций.</li>
        <li><strong>.v3d-annotation-dialog</strong> - используется для диалогов аннотаций.</li>
      </ul>

      Вы можете переопределить эти классы в своих собственных приложениях. Например, чтобы сделать аннотации красными:

      <code>
.v3d-annotation {
  background: red;
}
.v3d-annotation-dialog {
  background: red;
}
      </code>
    </p>


    <h2>Конструктор</h2>

    <h3>[name](container, character, text)</h3>
    <p>
      <strong>container</strong> - идентификатор HTML-элемента или сам HTML-элемент, который будет содержать аннотацию.<br>
      <strong>character</strong> - символ, отображаемый внутри метки аннотации, например, "1", "2", "3" или "A", "B", "C". Фактически, символ метки может быть строкой любой длины.<br>
      <strong>text</strong> - текст, отображаемый во всплывающем окне аннотации. Это окно появляется, когда пользователь щелкает по аннотации. Он может содержать также текст в формате HTML. Укажите пустую строку, чтобы отключить функцию всплывающего диалогового окна.
    </p>

    <h2>Свойства</h2>
    <p>Общие свойства см. в базовом классе [page:AnnotationControl].</p>

    <h3>[property:String character]</h3>
    <p>
      Характер аннотации.
    </p>

    <h3>[property:String text]</h3>
    <p>
      Текст аннотации.
    </p>

    <h3>[property:HTMLElement annotation]</h3>
    <p>
      Элемент метки аннотации (обычно div).
    </p>

    <h3>[property:HTMLElement annotationText]</h3>
    <p>
      Элемент диалогового окна аннотации (обычно div).
    </p>

    <h3>[property:Boolean annotationTextVisible]</h3>
    <p>
      Параметр видимости диалогового окна аннотации. Вычисляется методом [page:AnnotationControl.update update update].
    </p>

    <h3>[property:Boolean fadeObscured]</h3>
    <p>
      Обесцветить (сделать полупрозрачной) аннотацию, если она заслонена другими объектами. По умолчанию - true.
    </p>

    <h3>[property:Boolean isAnnotation]</h3>
    <p>
      Используется для проверки того, является ли данный или производные классы аннотациями.<br>
      Вы не должны изменять этот параметр, так как он используется для внутренней оптимизации.
    </p>

    <h2>Методы</h2>
    <p>Общие методы см. в базовом классе [page:Object3D].</p>

    <h3>[method:Annotation clone]()</h3>
    <p>
      Возвращает клон данного объекта-аннотации и всех его преемников..
    </p>

    <h3>[method:null dispose]()</h3>
    <p>
      Удаляет HTML-макет и соответствующих event listeners.
    </p>

    <h3>[method:null raycast]([param:Raycaster raycaster], [param:Array intersects])</h3>
    <p>
      Пока не реализовано.
    </p>

    <h2>Пазлы</h2>
    <p>
      Используйте [page:Puzzles.add_annotation add annotation] или [page:Puzzles.remove_annotation remove annotation] для управления аннотациями в редакторе пазлов.
    </p>

    [sourceHint]
  </body>
</html>
