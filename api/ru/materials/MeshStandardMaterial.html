<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <base href="../../../" />
    <script src="page.js"></script>
    <link type="text/css" rel="stylesheet" href="page.css" />
  </head>
  <body>
    [page:Material] &rarr;

    <h1>[name]</h1>

    <p class="desc">
      Стандартный материал на основе физики, типа Metallic-Roughness.<br /><br />

      Рендеринг на основе физики (PBR) недавно стал стандартом во многих 3D-приложениях, таких как
      [link:https://blogs.unity3d.com/2014/10/29/physically-based-shading-in-unity-5-a-primer/ Unity],
      [link:https://docs.unrealengine.com/latest/INT/Engine/Rendering/Materials/PhysicallyBased/ Unreal] и
      [link:http://area.autodesk.com/blogs/the-3ds-max-blog/what039s-new-for-rendering-in-3ds-max-2017 3D Studio Max].<br /><br />

      Этот подход отличается от старых тем, что вместо использования приближенных данных о том, как свет взаимодействует с поверхностью, используется физически корректная модель. Идея заключается в том, что вместо того, чтобы настраивать материалы так, чтобы они хорошо выглядели при определенном освещении, можно создать материал, который будет "правильно" реагировать на все сценарии освещения.<br /><br />

      На практике это дает более точный и реалистичный результат, чем [page:MeshLambertMaterial]
      или [page:MeshPhongMaterial], за счет более высокой вычислительной сложности.<br /><br />

      Шейдинг рассчитывается так же, как и для [page:MeshPhongMaterial], с использованием модели шейдинга
      [link:https://en.wikipedia.org/wiki/Phong_shading Phong]. Это позволяет рассчитать затенение
      на пиксель (т.е. в [link:https://en.wikipedia.org/wiki/Shader#Pixel_shaders fragment shader],
      он же пиксельный шейдер) которое дает более точные результаты чем модель Gouraud, используемая
      [page:MeshLambertMaterial], за счет снижения производительности.<br /><br />

      Обратите внимание, что для достижения наилучших результатов при использовании этого материала всегда следует указывать [page:.envMap environment map].<br /><br />

      Для нетехнического введения в концепцию PBR и как создать материал PBR,
      ознакомьтесь с этими статьями, написанными командой [link:https://www.marmoset.co marmoset]:
      <ul>
        <li>
          [link:https://www.marmoset.co/posts/basic-theory-of-physically-based-rendering/ Basic Theory of Physically Based Rendering]
        </li>
        <li>
          [link:https://www.marmoset.co/posts/physically-based-rendering-and-you-can-too/ Physically Based Rendering and You Can Too]
        </li>
      </ul>
    </p>
    <p>
      Технические подробности подхода, используемого в Verge3D (и большинстве других систем PBR), можно найти здесь
      [link:https://disney-animation.s3.amazonaws.com/library/s2012_pbs_disney_brdf_notes_v2.pdf paper from Disney] (pdf),
      от Брента Берли.
    </p>

    <iframe id="scene" src="scenes/material-browser.html#MeshStandardMaterial"></iframe>

    <script>

    // iOS iframe auto-resize workaround

    if (/(iPad|iPhone|iPod)/g.test(navigator.userAgent)) {

      const scene = document.getElementById('scene');

      scene.style.width = getComputedStyle(scene).width;
      scene.style.height = getComputedStyle(scene).height;
      scene.setAttribute('scrolling', 'no');

    }

    </script>

    <h2>Конструктор</h2>

    <h3>[name]([param:Object parameters])</h3>
    <p>
      [page:Object parameters] - (опциональный) объект с одним или несколькими свойствами, определяющими внешний вид материала.
      Сюда можно передать любое свойство материала (включая любое свойство, унаследованное от [page:Material]).<br /><br />

      Исключением является свойство [page:Hexadecimal color], которое может быть передано в виде шестнадцатеричной строки и по умолчанию имеет значение *0xffffff* (белый). [page:Color.set](color) вызывается внутренне.
    </p>

    <h2>Свойства</h2>
    <p>Общие свойства см. в базовом классе [page:Material].</p>

    <h3>[property:Texture alphaMap]</h3>
    <p>Альфа-карта - это черно-белая текстура, которая управляет непрозрачностью поверхности (черный: полностью прозрачный; белый: полностью непрозрачный). По умолчанию - null.<br /><br />

      Используется только цвет текстуры, игнорируя альфа-канал, если он существует. Для текстур RGB и RGBA рендерер [page:WebGLRenderer WebGL] будет использовать зеленый канал при выборке этой текстуры из-за дополнительного бита точности, предоставляемого для зеленого цвета в DXT-сжатом и несжатом форматах RGB 565. Текстуры только с яркостью и яркость/альфа также будут работать, как и положено.
    </p>

    <h3>[property:Texture aoMap]</h3>
    <p>Красный канал этой текстуры используется в качестве карты окклюзии окружающего пространства. По умолчанию - null.
    Для карты окклюзии требуется второй набор UVs.</p>

    <h3>[property:Float aoMapIntensity]</h3>
    <p>Интенсивность эффекта окклюзии окружающей среды. По умолчанию - 1. Ноль - эффект окклюзии отсутствует.</p>

    <h3>[property:Texture bumpMap]</h3>
    <p>
      Текстура для создания карты неровностей. Черные и белые значения отображают воспринимаемую глубину относительно освещения.
      Фактически не влияет на геометрию объекта, только на освещение. Если определена карта нормалей, то она
      будет проигнорирована.
    </p>

    <h3>[property:Float bumpScale]</h3>
    <p>Насколько сильно карта неровностей влияет на материал. Типичные диапазоны 0-1. По умолчанию - 1.</p>


    <h3>[property:Color color]</h3>
    <p>[page:Color] материала, по умолчанию установлен на белый (0xffffffff).</p>

    <h3>[property:Object defines]</h3>
    <p>Объект формы:
      <code>
        { 'STANDARD': '' };
      </code>

      Это используется [page:WebGLRenderer] для выбора шейдеров.
    </p>

    <h3>[property:Texture displacementMap]</h3>
    <p>
      Карта смещения влияет на положение вершин меша. В отличие от других карт, которые влияют только на свет и тень материала, смещенные вершины могут отбрасывать тени, блокировать другие объекты и действовать как настоящая геометрия. Текстура смещения - это изображение, в котором значение каждого пикселя (белый - самый высокий) сопоставляется с вершинами сетки и изменяет их положение.
    </p>

    <h3>[property:Float displacementScale]</h3>
    <p>
      Насколько сильно карта смещения влияет на меш (где черный цвет - нет смещения,
      а белый - максимальное смещение). Без установленной карты смещения это значение не применяется.
      По умолчанию - 1.
    </p>

    <h3>[property:Float displacementBias]</h3>
    <p>
      Смещение значений карты смещения на вершинах меша.
      Без установленной карты смещения это значение не применяется. По умолчанию равно 0.
    </p>

    <h3>[property:Color emissive]</h3>
    <p>
      Излучающий (световой) цвет материала, по сути, сплошной цвет, на который не влияет другое освещение.
      По умолчанию - черный.
    </p>

    <h3>[property:Texture emissiveMap]</h3>
    <p>
      Устанавливает карту излучения (свечения). По умолчанию - null. Цвет эмиссионной карты модулируется
      цветом эмиссии и интенсивностью эмиссии. Если у вас есть эмиссионная карта, обязательно
      установите цвет излучения на какой-либо другой, но не черный.
    </p>

    <h3>[property:Float emissiveIntensity]</h3>
    <p>Интенсивность излучаемого света. Модулирует цвет излучения. По умолчанию - 1.</p>

    <h3>[property:Texture envMap]</h3>
    <p>
      Карта окружения. Для обеспечения физически корректного рендеринга следует добавлять только те карты окружения, которые были предварительно обработаны [page:PMREMGenerator]. Назначается автоматически из соответствующего объекта [page:CubeReflectionProbe], если [page:Material.envMapAutoAssign] имеет значение *true*. По умолчанию - null.
    </p>

    <h3>[property:Float envMapIntensity]</h3>
    <p>
      Масштабирует эффект карты окружения путем умножения ее цвета. По умолчанию
      1.
    </p>

    <h3>[property:Matrix4 envMapParallaxMatrix]</h3>
    <p>
      [page:Matrix4] используется для применения эффекта параллакса к [page:.envMap] материала. Эта матрица переносит преобразование из мирового пространства в пространство конкретного [page:CubeReflectionProbe reflection probe], карту окружения которого этот материал использует для рендеринга. Вычисляется автоматически, если [page:Material.envMapAutoAssign] - *true*. По умолчанию это матрица тождества.
    </p>

    <h3>[property:Matrix4 envMapParallaxMatrixInv]</h3>
    <p>
      [page:Matrix4], обратная к [page:.envMapParallaxMatrix]. Используется для применения эффекта параллакса к [page:.envMap] материала. Вычисляется автоматически, если [page:Material.envMapAutoAssign] - *true*. По умолчанию это матрица тождества.
    </p>

    <h3>[property:Constant envMapParallaxType]</h3>
    <p>
      Определяет тип объема параллакса. Такое же, как [page:CubeReflectionProbe.parallaxType]. Назначается автоматически из соответствующего [page:CubeReflectionProbe], если [page:Material.envMapAutoAssign] - *true*. По умолчанию [page:Lights ReflectionProbeTypeInfinite].
    </p>

    <h3>[property:Texture lightMap]</h3>
    <p>Карта освещения. По умолчанию равно null. Для карты освещения требуется второй набор UVs.</p>

    <h3>[property:Float lightMapIntensity]</h3>
    <p>Интенсивность запеченного света. По умолчанию - 1.</p>

    <h3>[property:Texture map]</h3>
    <p>Карта цвета. По умолчанию равно null. Цвет карты текстуры модулируется диффузным [page:.color].</p>

    <h3>[property:Float metalness]</h3>
    <p>
      Насколько материал похож на металл. Неметаллические материалы, такие как дерево или камень, используют 0.0, металлические - 1.0, и ничего (обычно) между ними нет. По умолчанию - 0,0. Значение между 0.0 и 1.0 может быть использовано для получения ржавого металлического вида. Если также указана карта metalnessMap, оба значения перемножаются.
    </p>

    <h3>[property:Texture metalnessMap]</h3>
    <p>Синий канал этой текстуры используется для изменения "металличности" материала.</p>

    <h3>[property:Boolean morphNormals]</h3>
    <p>
      Определяет, использует ли материал morphNormals. Установите значение true, чтобы передавать атрибуты morphNormals из [page:Geometry] в шейдер. По умолчанию *false*.
    </p>

    <h3>[property:Boolean morphTargets]</h3>
    <p>Определяет, использует ли материал morphTargets. По умолчанию - false.</p>

    <h3>[property:Texture normalMap]</h3>
    <p>
      Текстура для создания карты нормалей. Значения RGB влияют на нормаль поверхности для каждого фрагмента пикселя и изменяют способ освещения. Карты нормалей не изменяют фактическую форму поверхности, только освещение. В случае, если материал имеет карту нормалей, созданную с использованием левосторонней конвенции, компонент y normalScale должен быть отрицательным, чтобы компенсировать разную ориентацию.
    </p>

    <h3>[property:Integer normalMapType]</h3>
    <p>
      Тип карты нормалей.<br /><br />

      Варианты: [page:constant v3d.TangentSpaceNormalMap] (по умолчанию) и [page:constant v3d.ObjectSpaceNormalMap].
    </p>

    <h3>[property:Vector2 normalScale]</h3>
    <p>
      Насколько сильно карта нормалей влияет на материал. Типичные диапазоны - 0-1.
      По умолчанию это [page:Vector2], установленный на (1,1).
    </p>

    <h3>[property:Float refractionRatio]</h3>
    <p>
      Показатель преломления (IOR) воздуха (приблизительно 1), деленный на показатель преломления материала. Используется с режимами отображения окружения [page:Textures v3d.CubeRefractionMapping] и [page:Textures v3d.EquirectangularRefractionMapping]. Коэффициент преломления не должен превышать 1. По умолчанию *0,98*.
    </p>

    <h3>[property:Float roughness]</h3>
    <p>
      Насколько шероховатым кажется материал. 0.0 означает гладкое зеркальное отражение, 1.0 - полностью рассеянное. По умолчанию 1.0. Если также указан параметр roughnessMap, оба значения умножаются.
    </p>

    <h3>[property:Texture roughnessMap]</h3>
    <p>Зеленый канал этой текстуры используется для изменения шероховатости материала.</p>

    <h3>[property:Boolean skinning]</h3>
    <p>Определяет, использует ли материал скиннинг. По умолчанию - false.</p>

    <h3>[property:Boolean vertexTangents]</h3>
    <p>
      Определяет, используются ли предварительно вычисленные касательные к вертексам, которые должны быть указаны в атрибуте vec4 "tangent". Если этот параметр отключен, касательные выводятся автоматически. Использование предварительно вычисленных касательных дает более точную детализацию карты нормалей в некоторых случаях, например, при зеркальном отображении UV. По умолчанию - false.
    </p>

    <h3>[property:Boolean wireframe]</h3>
    <p>Рендерит геометрию в виде вайрфрейма. По умолчанию *false* (т.е. рендеринг в виде плоских полигонов).</p>

    <h3>[property:String wireframeLinecap]</h3>
    <p>
      Определяет внешний вид концов линии. Возможные значения "butt", "round" и "square". По умолчанию 'round'.<br /><br />

      Это соответствует свойству [link:https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/lineCap 2D Canvas lineCap] и игнорируется рендерером [page:WebGLRenderer WebGL].
    </p>

    <h3>[property:String wireframeLinejoin]</h3>
    <p>
      Определяет внешний вид стыков линий. Возможные значения "round", "bevel" и "miter". По умолчанию 'round'.<br /><br />

      Это соответствует свойству [link:https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/lineJoin 2D Canvas lineJoin]
      и игнорируется рендерером [page:WebGLRenderer WebGL].
    </p>

    <h3>[property:Float wireframeLinewidth]</h3>
    <p>Контроль толщины вайрфрейма. По умолчанию 1.<br /><br />

    В связи с ограничениями [link:https://www.khronos.org/registry/OpenGL/specs/gl/glspec46.core.pdf OpenGL Core Profile]
    с [page:WebGLRenderer WebGL] рендерером на большинстве платформ ширина линии будет
    всегда будет равна 1, независимо от установленного значения.
    </p>

    <h2>Методы</h2>
    <p>Общие методы см. в базовом классе [page:Material].</p>


    [sourceHint]
  </body>
</html>
