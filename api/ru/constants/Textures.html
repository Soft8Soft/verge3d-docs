<!DOCTYPE html>
<html lang="ru">
  <head>
    <title>Текстурные константы — Софт Эйт Софт</title>
    <meta charset="utf-8">
    <meta name="description" content="Список текстурных констант, используемых в Вердж3Д.">
    <base href="../../../">
    <script src="page.js"></script>
    <link type="text/css" rel="stylesheet" href="page.css">
  </head>
  <body>
    <h1>Константы Текстур</h1>

    <p>
      Эти константы определяют форматы и режимы рендеринга текстур.
    </p>

    [contents]


    [anchor:mapping]
    <h2>Режимы маппинга</h2>

    <code>
    v3d.UVMapping
    v3d.CubeReflectionMapping
    v3d.CubeRefractionMapping
    v3d.EquirectangularReflectionMapping
    v3d.EquirectangularRefractionMapping
    v3d.CubeUVReflectionMapping
    v3d.CubeUVRefractionMapping
    </code>

    <p>
      Они определяют режим отображения текстуры. [page:Constant UVMapping] — это режим по умолчанию, при котором текстура отображается с использованием UV-координат объекта.
    </p>
    <p>
      Остальные определяют типы маппинга окруженающей среды.
    </p>
    <p>
      [page:Constant CubeReflectionMapping] и [page:Constant CubeRefractionMapping] предназначены для использования с [page:CubeTexture CubeTexture], которая состоит из шести текстур, по одной для каждой грани куба. [page:Constant CubeReflectionMapping] — это значение по умолчанию для [page:CubeTexture CubeTexture].
    </p>
    <p>
      [page:Constant EquirectangularReflectionMapping] и [page:Constant EquirectangularRefractionMapping] предназначены для использования с равноугольной картой окружения. Также называемая картой широты, равноугольная текстура представляет собой 360-градусный вид вдоль горизонтальной центральной линии и 180-градусный вид вдоль вертикальной оси, причем верхний и нижний края изображения соответствуют северному и южному полюсам отображаемой сферы.
    </p>


    [anchor:wrapping]
    <h2>Режимы развёрток</h2>

    <code>
    v3d.RepeatWrapping
    v3d.ClampToEdgeWrapping
    v3d.MirroredRepeatWrapping
    </code>

    <p>
      Они определяют свойства текстуры [page:Texture.wrapS wrapS] и [page:Texture.wrapT wrapT], которые определяют горизонтальное и вертикальное развёртывание текстуры.
    </p>
    <p>
      При использовании [page:constant RepeatWrapping] текстура будет просто повторяться до бесконечности.
    </p>
    <p>
      [page:constant ClampToEdgeWrapping] используется по умолчанию. Последний пиксель текстуры растягивается до края сетки.
    </p>
    <p>
      При использовании [page:constant MirroredRepeatWrapping] текстура будет повторяться до бесконечности, зеркально отражаясь при каждом повторении.
    </p>


    [anchor:magnification]
    <h2>Фильтры увеличения</h2>

    <code>
    v3d.NearestFilter
    v3d.LinearFilter
    </code>

    <p>
      Для использования со свойством [page:Texture.magFilter magFilter] текстуры, они определяют функцию увеличения текстуры, которая будет использоваться, когда пиксель, на который накладывается текстура, имеет площадь меньше или равную одному элементу текстуры (текселу).
    </p>
    <p>
      [page:constant NearestFilter] возвращает значение элемента текстуры, который является ближайшим (по расстоянию Манхэттена) к указанным координатам текстуры.
    </p>
    <p>
      [page:constant LinearFilter] используется по умолчанию и возвращает средневзвешенное значение четырех элементов текстуры, которые ближе всего к указанным координатам текстуры, и может включать элементы, обернутые или повторенные из других частей текстуры, в зависимости от значений [page:Texture.wrapS wrapS] и [page:Texture.wrapT wrapT], а также от точного отображения.
    </p>


    [anchor:minification]
    <h2>Фильтры Уменьшения</h2>

    <code>
    v3d.NearestFilter
    v3d.NearestMipmapNearestFilter
    v3d.NearestMipmapLinearFilter
    v3d.LinearFilter
    v3d.LinearMipmapNearestFilter
    v3d.LinearMipmapLinearFilter
    </code>

    <p>
      Для использования со свойством [page:Texture.minFilter minFilter] текстуры, они определяют функцию минимизации текстуры, которая используется всякий раз, когда пиксель, на который наносится текстура, отображается на область, превышающую один элемент текстуры (тексель).
    </p>
    <p>
      В дополнение к [page:constant NearestFilter] и [page:constant LinearFilter] для минификации можно использовать следующие четыре функции:
    </p>
    <p>
      [page:constant NearestMipmapNearestFilter] выбирает мипмапу, наиболее точно соответствующую размеру текстурируемого пикселя, и использует критерий [page:constant NearestFilter] (ближайший к центру пикселя тексель) для получения значения текстуры.
    </p>
    <p>
      [page:constant NearestMipmapLinearFilter] выбирает два отображения, которые наиболее точно соответствуют размеру текстурируемого пикселя, и использует критерий [page:constant NearestFilter] для получения значения текстуры из каждого отображения. Окончательное значение текстуры является средневзвешенным значением этих двух значений.
    </p>
    <p>
      [page:constant LinearMipmapNearestFilter] выбирает мипмапу, наиболее точно соответствующую размеру текстурируемого пикселя, и использует критерий [page:constant LinearFilter] (средневзвешенное значение четырех текселей, наиболее близких к центру пикселя) для получения значения текстуры.
    </p>
    <p>
      [page:constant LinearMipmapLinearFilter] используется по умолчанию и выбирает два отображения, которые наиболее точно соответствуют размеру текстурируемого пикселя, и использует критерий [page:constant LinearFilter] для получения значения текстуры из каждого отображения. Окончательное значение текстуры является средневзвешенным значением этих двух значений.
    </p>

    [anchor:types]
    <h2>Типы текстур</h2>

    <code>
    v3d.UnsignedByteType
    v3d.ByteType
    v3d.ShortType
    v3d.UnsignedShortType
    v3d.IntType
    v3d.UnsignedIntType
    v3d.FloatType
    v3d.HalfFloatType
    v3d.UnsignedShort4444Type
    v3d.UnsignedShort5551Type
    v3d.UnsignedShort565Type
    v3d.UnsignedInt248Type
    </code>
    <p>
      Используется со свойством [page:Texture.type type] текстуры, которое должно соответствовать правильному формату.
    </p>
    <p>
      [page:constant UnsignedByteType] используется по умолчанию.
    </p>


    [anchor:formats]
    <h2>Форматы текстур</h2>

    <code>
    v3d.AlphaFormat
    v3d.RedFormat
    v3d.RedIntegerFormat
    v3d.RGFormat
    v3d.RGIntegerFormat
    v3d.RGBAFormat
    v3d.RGBAIntegerFormat
    v3d.LuminanceFormat
    v3d.LuminanceAlphaFormat
    v3d.DepthFormat
    v3d.DepthStencilFormat
    </code>

    <p>
      Используются для назначения свойства [page:Texture.format format] текстур, они определяют, как элементы двухмерной текстуры, или «тексели», считываются шейдерами.
    </p>
    <p>
    [page:constant AlphaFormat] отбрасывает красный, зеленый и синий компоненты и считывает только альфа-компонент.
    </p>
    <p>
    [page:constant RedFormat] отбрасывает зеленый и синий компоненты и считывает только красный компонент.
    </p>
    <p>
      [page:constant RedIntegerFormat] отбрасывает зеленый и синий компоненты и считывает только красный компонент.  Тексели считываются как целые числа, а не с плавающей точкой.  (может использоваться только с рендерингом WebGL 2).
    </p>
    <p>
      [page:constant RGFormat] отбрасывает альфа- и синие компоненты и считывает красную и зеленую компоненты.  (может использоваться только с рендерингом WebGL 2).
    </p>
    <p>
      [page:constant RGIntegerFormat] отбрасывает альфа- и синие компоненты и считывает красную и зеленую компоненты.  Тексели считываются как целые числа, а не с плавающей точкой (может использоваться только с рендерингом WebGL 2).
    </p>
    <p>
      [page:constant RGBAFormat] используется по умолчанию и считывает красный, зеленый, синий и альфа-компоненты.
    </p>
    <p>
      [page:constant RGBAIntegerFormat] используется по умолчанию и считывает красный, зеленый, синий и альфа-компоненты.  Тексели считываются как целые числа, а не с плавающей точкой.  (может использоваться только с рендерингом WebGL 2).
    </p>
    <p>
      [page:constant LuminanceFormat] считывает каждый элемент как один компонент яркости.  Затем это значение преобразуется в плавающую точку, ограничивается в диапазоне [0,1], а затем собирается в RGBA-элемент, помещая значение яркости в красный, зеленый и синий каналы и присоединяя 1.0 к альфа-каналу.
    </p>
    <p>
      [page:constant LuminanceAlphaFormat] считывает каждый элемент как двойное значение яркости/альфа-канала. Происходит тот же процесс, что и для [page:constant LuminanceFormat], за исключением того, что альфа-канал может иметь значения, отличные от `1.0`.
    </p>
    <p>
      [page:constant DepthFormat] считывает каждый элемент как одно значение глубины, преобразует его в значение с плавающей точкой и зажимает в диапазон [0,1].  Это значение по умолчанию для [page:DepthTexture DepthTexture].
    </p>
    <p>
      [page:constant DepthStencilFormat] каждый элемент представляет собой пару значений глубины и шаблона.
      Компонент глубины пары интерпретируется как в [page:constant DepthFormat]. Компонент шаблона интерпретируется на основе внутреннего формата "глубина + шаблон".
    </p>
    <p>
      Обратите внимание, что текстура должна иметь правильное значение [page:Texture.type type], как описано выше. Ознакомьтесь с [link:https://developer.mozilla.org/en/docs/Web/API/WebGLRenderingContext/texImage2D WebGLRenderingContext.texImage2D] для деталей.
    </p>


    [anchor:dds_formats]
    <h2>DDS / ST3C форматы сжатия текстур</h2>

    <code>
    v3d.RGB_S3TC_DXT1_Format
    v3d.RGBA_S3TC_DXT1_Format
    v3d.RGBA_S3TC_DXT3_Format
    v3d.RGBA_S3TC_DXT5_Format
    </code>

    <p>
      Для назначения свойства [page:CompressedTexture CompressedTexture] — [page:Texture.format format]. Требуют поддержки расширения [link:https://www.khronos.org/registry/webgl/extensions/WEBGL_compressed_texture_s3tc/ WEBGL_compressed_texture_s3tc].
    </p>
    <p>
      Через это расширение доступны четыре [link:https://en.wikipedia.org/wiki/S3_Texture_Compression S3TC] формата. К ним относятся:
    </p>
    <p>
      [page:constant RGB_S3TC_DXT1_Format]: Сжатое в DXT1 изображение в формате RGB.<br>
      [page:constant RGBA_S3TC_DXT1_Format]: DXT1-сжатое изображение в формате RGB с простым включением/выключением альфа-значения.<br>
      [page:constant RGBA_S3TC_DXT3_Format]: DXT3-сжатое изображение в формате RGBA-изображения. По сравнению с 32-битной RGBA-текстурой оно обеспечивает сжатие 4:1.<br>
      [page:constant RGBA_S3TC_DXT5_Format]: DXT5-сжатое изображение в формате RGBA. Оно также обеспечивает сжатие 4:1, но отличается от сжатия DXT3 тем, как выполняется альфа-сжатие.
    </p>


    [anchor:pvrt_formats]
    <h2>PVRTC формат сжатия текстур</h2>

    <code>
    v3d.RGB_PVRTC_4BPPV1_Format
    v3d.RGB_PVRTC_2BPPV1_Format
    v3d.RGBA_PVRTC_4BPPV1_Format
    v3d.RGBA_PVRTC_2BPPV1_Format
    </code>

    <p>
      Для назначения свойства [page:CompressedTexture CompressedTexture] — [page:Texture.format format]. Требуется поддержка расширения [link:https://www.khronos.org/registry/webgl/extensions/WEBGL_compressed_texture_pvrtc/ WEBGL_compressed_texture_pvrtc]. PVRTC обычно доступен только на мобильных устройствах с чипсетами PowerVR, а это в основном устройства Apple.
    </p>
    <p>
      Через это расширение доступны четыре [link:https://en.wikipedia.org/wiki/PVRTC PVRTC] формата. К ним относятся:
    </p>
    <p>
      [page:constant RGB_PVRTC_4BPPV1_Format]: Сжатие RGB в 4-битном режиме. Один блок на каждые 4×4 пикселя.<br>
      [page:constant RGB_PVRTC_2BPPV1_Format]: Сжатие RGB в 2-битном режиме. Один блок на каждые 8×4 пикселя.<br>
      [page:constant RGBA_PVRTC_4BPPV1_Format]: Сжатие RGBA в 4-битном режиме. Один блок на каждые 4×4 пикселя.<br>
      [page:constant RGBA_PVRTC_2BPPV1_Format]: Сжатие RGBA в 2-битном режиме. Один блок на каждые 8×4 пикселя.<br>
    </p>


    [anchor:etc_formats]
    <h2>ETC Формат Сжатия Текстур</h2>

    <code>
    v3d.RGB_ETC1_Format
    v3d.RGB_ETC2_Format
    v3d.RGBA_ETC2_EAC_Format
    </code>

    <p>
      Для назначения свойства [page:CompressedTexture CompressedTexture] — [page:Texture.format format]. Требуют поддержки расширения [link:https://www.khronos.org/registry/webgl/extensions/WEBGL_compressed_texture_etc1/ WEBGL_compressed_texture_etc1] (ETC1) или [link:https://www.khronos.org/registry/webgl/extensions/WEBGL_compressed_texture_etc/ WEBGL_compressed_texture_etc] (ETC2).
    </p>


    [anchor:astc_formats]
    <h2>ASTC формат сжатия текстур</h2>

    <code>
    v3d.RGBA_ASTC_4x4_Format
    v3d.RGBA_ASTC_5x4_Format
    v3d.RGBA_ASTC_5x5_Format
    v3d.RGBA_ASTC_6x5_Format
    v3d.RGBA_ASTC_6x6_Format
    v3d.RGBA_ASTC_8x5_Format
    v3d.RGBA_ASTC_8x6_Format
    v3d.RGBA_ASTC_8x8_Format
    v3d.RGBA_ASTC_10x5_Format
    v3d.RGBA_ASTC_10x6_Format
    v3d.RGBA_ASTC_10x8_Format
    v3d.RGBA_ASTC_10x10_Format
    v3d.RGBA_ASTC_12x10_Format
    v3d.RGBA_ASTC_12x12_Format
    </code>

    <p>
      Для назначения свойства [page:CompressedTexture CompressedTexture] — [page:Texture.format format]. Требуется поддержка расширения [link:https://www.khronos.org/registry/webgl/extensions/WEBGL_compressed_texture_astc/ WEBGL_compressed_texture_astc].
    </p>


    [anchor:bptc_formats]
    <h2>BPTC Compressed Texture Formats</h2>

    <code>
    v3d.RGBA_BPTC_Format
    </code>

    <p>
      Для назначения свойства [page:CompressedTexture CompressedTexture] — [page:Texture.format format]. Требуют наличия поддержки расширения [link:https://www.khronos.org/registry/webgl/extensions/EXT_texture_compression_bptc/ EXT_texture_compression_bptc].
    </p>


    [anchor:encoding]
    <h2>Кодирование</h2>

    <code>
    v3d.LinearEncoding
    v3d.sRGBEncoding
    v3d.BasicDepthPacking
    v3d.RGBADepthPacking
    v3d.LinearDepthPacking
    v3d.RGBADistancePacking
    v3d.ESMDistancePacking
    </code>

    <p>
      Для использования со свойством [page:Texture.encoding encoding] текстуры.
    </p>
    <p>
      Если тип кодировки изменен после того, как текстура уже использовалась материалом, необходимо установить [page:Material.needsUpdate Material.needsUpdate] в `true`, чтобы материал перекомпилировался.
    </p>
    <p>
      [page:constant LinearEncoding] по умолчанию. Значения, отличные от этого, действительны только для карты материала, envMap и emissiveMap.
    </p>


    [sourceHint]

  </body>
</html>
