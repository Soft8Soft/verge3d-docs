<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Material Constants â€” Soft8Soft</title>
    <meta charset="utf-8">
    <meta name="description" content="List of material constants used in Verge3D.">
    <base href="../../../">
    <script src="page.js"></script>
    <link type="text/css" rel="stylesheet" href="page.css">
  </head>
  <body>
    <h1>Material Constants</h1>

    <p class="desc">
      These constants define properties common to all material types, with the exception of Texture Combine Operations which only apply to [page:MeshBasicMaterial.combine MeshBasicMaterial] and [page:MeshLambertMaterial.combine MeshLambertMaterial].
    </p>

    <h2>Side</h2>

    <code>
    v3d.FrontSide
    v3d.BackSide
    v3d.DoubleSide
    v3d.TwoPassDoubleSide
    </code>

    <p>
      Defines which side of faces will be rendered - front, back or both. Default is [page:Constant FrontSide].
    </p>
    <p>
      [page:Materials TwoPassDoubleSide] will renderer double-sided transparent materials in two passes in back-front order to mitigate transparency artifacts.
    </p>

    <h2>Blending Mode</h2>

    <code>
    v3d.NoBlending
    v3d.NormalBlending
    v3d.AdditiveBlending
    v3d.SubtractiveBlending
    v3d.MultiplyBlending
    v3d.CustomBlending
    </code>

    <p>
      These control the source and destination blending equations for the material's RGB and Alpha sent to the WebGLRenderer for use by WebGL. [page:Constant NormalBlending] is the default. Note that [page:Constant CustomBlending] must be set to use custom blending equations (see below).
    </p>

    <h2>Depth Mode</h2>

    <code>
    v3d.NeverDepth
    v3d.AlwaysDepth
    v3d.EqualDepth
    v3d.LessDepth
    v3d.LessEqualDepth
    v3d.GreaterEqualDepth
    v3d.GreaterDepth
    v3d.NotEqualDepth
    </code>

    <p>
      Which depth function the material uses to compare incoming pixels Z-depth against the current Z-depth buffer value. If the result of the comparison is true, the pixel will be drawn.
    </p>

    <ul>
      <li>[page:Materials NeverDepth] will never return true.</li>
      <li>[page:Materials AlwaysDepth] will always return true.</li>
      <li>[page:Materials EqualDepth] will return true if the incoming pixel Z-depth is equal to the current buffer Z-depth.</li>
      <li>[page:Materials LessDepth] will return true if the incoming pixel Z-depth is less than the current buffer Z-depth.</li>
      <li>[page:Materials LessEqualDepth] is the default and will return true if the incoming pixel Z-depth is less than or equal to the current buffer Z-depth.</li>
      <li>[page:Materials GreaterEqualDepth] will return true if the incoming pixel Z-depth is greater than or equal to the current buffer Z-depth.</li>
      <li>[page:Materials GreaterDepth] will return true if the incoming pixel Z-depth is greater than the current buffer Z-depth.</li>
      <li>[page:Materials NotEqualDepth] will return true if the incoming pixel Z-depth is not equal to the current buffer Z-depth.</li>
    </ul>

    <h2>Texture Combine Operations</h2>

    <code>
    v3d.MultiplyOperation
    v3d.MixOperation
    v3d.AddOperation
    </code>

    <p>
      These define how the result of the surface's color is combined with the environment map (if present), for [page:MeshBasicMaterial.combine MeshBasicMaterial] and [page:MeshLambertMaterial.combine MeshLambertMaterial].
    </p>

    <ul>
      <li>[page:Constant MultiplyOperation] is the default and multiplies the environment map color with the surface color.</li>
      <li>[page:Constant MixOperation] uses reflectivity to blend between the two colors.</li>
      <li>[page:Constant AddOperation] adds the two colors.</li>
    </ul>

    <h2>Stencil Functions</h2>

    <code>
    v3d.NeverStencilFunc
    v3d.LessStencilFunc
    v3d.EqualStencilFunc
    v3d.LessEqualStencilFunc
    v3d.GreaterStencilFunc
    v3d.NotEqualStencilFunc
    v3d.GreaterEqualStencilFunc
    v3d.AlwaysStencilFunc
    </code>

    <p>
      Which stencil function the material uses to determine whether or not to perform a stencil operation.</li>
    </p>

    <ul>
      <li>[page:Materials NeverStencilFunc] will never return true.</li>
      <li>[page:Materials LessStencilFunc] will return true if the stencil reference value is less than the current stencil value.</li>
      <li>[page:Materials EqualStencilFunc] will return true if the stencil reference value is equal to the current stencil value.</li>
      <li>[page:Materials LessEqualStencilFunc] will return true if the stencil reference value is less than or equal to the current stencil value.</li>
      <li>[page:Materials GreaterStencilFunc] will return true if the stencil reference value is greater than the current stencil value.</li>
      <li>[page:Materials NotEqualStencilFunc] will return true if the stencil reference value is not equal to the current stencil value.</li>
      <li>[page:Materials GreaterEqualStencilFunc] will return true if the stencil reference value is greater than or equal to the current stencil value.</li>
      <li>[page:Materials AlwaysStencilFunc] will always return true.</li>
    </ul>

    <h2>Stencil Operations</h2>

    <code>
    v3d.ZeroStencilOp
    v3d.KeepStencilOp
    v3d.ReplaceStencilOp
    v3d.IncrementStencilOp
    v3d.DecrementStencilOp
    v3d.IncrementWrapStencilOp
    v3d.DecrementWrapStencilOp
    v3d.InvertStencilOp
    </code>

    <p>
      Which stencil operation the material will perform on the stencil buffer pixel if the provided stencil function passes.
    </p>

    <ul>
      <li>[page:Materials ZeroStencilOp] will set the stencil value to `0`.</li>
      <li>[page:Materials KeepStencilOp] will not change the current stencil value.</li>
      <li>[page:Materials ReplaceStencilOp] will replace the stencil value with the specified stencil reference value.</li>
      <li>[page:Materials IncrementStencilOp] will increment the current stencil value by `1`.</li>
      <li>[page:Materials DecrementStencilOp] will decrement the current stencil value by `1`.</li>
      <li>[page:Materials IncrementWrapStencilOp] will increment the current stencil value by `1`. If the value increments past `255` it will be set to `0`.</li>
      <li>[page:Materials DecrementWrapStencilOp] will increment the current stencil value by `1`. If the value decrements below `0` it will be set to `255`.</li>
      <li>[page:Materials InvertStencilOp] will perform a bitwise inversion of the current stencil value.</li>
    </ul>

    <h2>Normal map type</h2>

    <code>
    v3d.TangentSpaceNormalMap
    v3d.ObjectSpaceNormalMap
    </code>

    <p>
      Defines the type of the normal map. For TangentSpaceNormalMap, the information is relative to the underlying surface. For ObjectSpaceNormalMap, the information is relative to the object orientation. Default is [page:Constant TangentSpaceNormalMap].
    </p>

    <h2>GLSL Version</h2>

    <code>
    v3d.GLSL1
    v3d.GLSL3
    </code>

    <h2>Custom Blending Equation Constants</h2>

    <p>
      These work with all material types. First set the material's blending mode to `v3d.CustomBlending`, then set the desired Blending Equation, Source Factor and Destination Factor.
    </p>

    <h3>Code Example</h3>

    <code>
    const material = new v3d.MeshBasicMaterial({color: 0x00ff00});
    material.blending = v3d.CustomBlending;
    material.blendEquation = v3d.AddEquation; // default
    material.blendSrc = v3d.SrcAlphaFactor; // default
    material.blendDst = v3d.OneMinusSrcAlphaFactor; // default
    </code>


    <h3>Blending Equations</h3>

    <code>
    v3d.AddEquation
    v3d.SubtractEquation
    v3d.ReverseSubtractEquation
    v3d.MinEquation
    v3d.MaxEquation
    </code>

    <h3>Source Factors</h3>

    <code>
    v3d.ZeroFactor
    v3d.OneFactor
    v3d.SrcColorFactor
    v3d.OneMinusSrcColorFactor
    v3d.SrcAlphaFactor
    v3d.OneMinusSrcAlphaFactor
    v3d.DstAlphaFactor
    v3d.OneMinusDstAlphaFactor
    v3d.DstColorFactor
    v3d.OneMinusDstColorFactor
    v3d.SrcAlphaSaturateFactor
    </code>

    <h3>Destination Factors</h3>

    <p>
      All of the Source Factors are valid as Destination Factors, except for `v3d.SrcAlphaSaturateFactor`.
    </p>

    [sourceHint]

  </body>
</html>
