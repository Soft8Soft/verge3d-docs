<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <base href="../../../">
    <script src="page.js"></script>
    <link type="text/css" rel="stylesheet" href="page.css">
  </head>
  <body>
    [page:Object3D] &rarr; [page:Audio] &rarr;

    <h1>[name]</h1>

    <p class="desc">
      Create a positional audio object.
    </p>
    <p>
      This uses the [link:https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API Web Audio API].
    </p>

    <h2>Code Example</h2>

    <code>
    // create an AudioListener and add it to the camera
    const listener = new v3d.AudioListener();
    camera.add(listener);

    // create the PositionalAudio object (passing in the listener)
    const sound = new v3d.PositionalAudio(listener);

    // load a sound and set it as the PositionalAudio object's buffer
    const audioLoader = new v3d.AudioLoader();
    audioLoader.load('sounds/song.ogg', function(buffer) {
        sound.setBuffer(buffer);
        sound.setRefDistance(20);
        sound.play();
    });

    // create an object for the sound to play from
    const sphere = new v3d.SphereGeometry(20, 32, 16);
    const material = new v3d.MeshLambertMaterial({ color: 0xff2200 });
    const mesh = new v3d.Mesh(sphere, material);
    app.scene.add(mesh);

    // finally add the sound to the mesh
    mesh.add(sound);
    </code>


    <h2>Constructor</h2>

    <h3>[name]([param:AudioListener listener])</h3>
    <p class="params">
      listener â€” (required) [page:AudioListener AudioListener] instance.
    </p>


    <h2>Properties</h2>

    <p>
      See the [page:Audio Audio] class for inherited properties.
    </p>

    <h3>[property:PannerNode panner]</h3>
    <p>
      The PositionalAudio's [link:https://developer.mozilla.org/en-US/docs/Web/API/PannerNode PannerNode].
    </p>


    <h2>Methods</h2>

    <p>
      See the [page:Audio Audio] class for inherited methods.
    </p>

    <h3>[method:PannerNode getOutput]()</h3>
    <p>
      Returns the [page:PositionalAudio.panner panner].
    </p>

    <h3>[method:Float getRefDistance]()</h3>
    <p>
      Returns the value of [link:https://developer.mozilla.org/en-US/docs/Web/API/PannerNode/refDistance panner.refDistance].
    </p>

    <h3>[method:this setRefDistance]([param:Float value])</h3>
    <p>
      Sets the value of [link:https://developer.mozilla.org/en-US/docs/Web/API/PannerNode/refDistance panner.refDistance].
    </p>

    <h3>[method:Float getRolloffFactor]()</h3>
    <p>
      Returns the value of [link:https://developer.mozilla.org/en-US/docs/Web/API/PannerNode/rolloffFactor panner.rolloffFactor].
    </p>

    <h3>[method:this setRolloffFactor]([param:Float value])</h3>
    <p>
      Sets the value of [link:https://developer.mozilla.org/en-US/docs/Web/API/PannerNode/rolloffFactor panner.rolloffFactor].
    </p>

    <h3>[method:String getDistanceModel]()</h3>
    <p>
      Returns the value of [link:https://developer.mozilla.org/en-US/docs/Web/API/PannerNode/distanceModel panner.distanceModel].
    </p>

    <h3>[method:this setDistanceModel]([param:String value])</h3>
    <p>
      Sets the value of [link:https://developer.mozilla.org/en-US/docs/Web/API/PannerNode/distanceModel panner.distanceModel].
    </p>

    <h3>[method:Float getMaxDistance]()</h3>
    <p>
      Returns the value of [link:https://developer.mozilla.org/en-US/docs/Web/API/PannerNode/maxDistance panner.maxDistance].
    </p>

    <h3>[method:this setMaxDistance]([param:Float value])</h3>
    <p>
      Sets the value of [link:https://developer.mozilla.org/en-US/docs/Web/API/PannerNode/maxDistance panner.maxDistance].
    </p>

    <h3>[method:this setDirectionalCone]([param:Float coneInnerAngle], [param:Float coneOuterAngle], [param:Float coneOuterGain])</h3>
    <p>
      This method can be used in order to transform an omnidirectional sound into a [link:https://developer.mozilla.org/en-US/docs/Web/API/PannerNode directional sound].
    </p>

    [sourceHint]
  </body>
</html>
