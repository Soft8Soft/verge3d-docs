<!DOCTYPE html>
<html lang="en">
  <head>
    <title>System Puzzles Reference — Soft8Soft</title>
    <meta charset="utf-8">
    <meta name="description" content="These puzzles may be used to perform various system functions such as printing to console, measuring performance, getting/setting rendered pixel ratio, retrieving the GPU information and using persistent browser storage.">
    <base href="../../../">
    <script src="page.js"></script>
    <link type="text/css" rel="stylesheet" href="page.css">
  </head>
  <body><article>

    <h1>System Puzzles</h1>

    <p>
      These puzzles may be used to perform various system functions such as printing to console, measuring performance, getting/setting rendered pixel ratio, retrieving the GPU information and using persistent browser storage.
    </p>

    <img src="files/puzzles/puzzles-system.jpg" alt="System visual programming blocks">

    <h2>Contents</h2>

    [contents]


    [anchor:puzzles_reference]

    <h2>Puzzles Reference</h2>


    [anchor:print_to_console]

    <h3>print to console</h3>

    <p>
      Prints data of any type (an output from some puzzle, a variable, or just a text) to the browser <a href="manual/en/introduction/FAQ.html#browser_console">console</a>. Printing to console is the most universal and easy-to-use method to debug your scripts.
    </p>

    <img src="files/puzzles/puzzles-system-print-console.jpg" alt="Visual logic block to print to the browser console">


    [anchor:print_performance_info]

    <h3>print performance info</h3>

    <p>
      Records a performance profile during 1 second and prints it to the browser <a href="manual/en/introduction/FAQ.html#browser_console">console</a>. Use this profile to find performance bottlenecks and improve application rendering and loading speed. See more <a href="manual/en/introduction/Performance-Bottlenecks.html#performance_profile">here</a>.
    </p>

    <img src="files/puzzles/puzzles-system-print-performance-info.webp" alt="Visual programming block to retrieve performance info">


    [anchor:check_performance]

    <h3>check performance</h3>

    <p>
      Measure rendering capabilities of the user’s computer or device. Under the hood, it uses the open source library <a href="https://github.com/Soft8Soft/detect-gpu-js" target="_blank">Detect GPU</a> to find an existing benchmark result and classify the user’s GPU as “good” or “poor”.
    </p>

    <img src="files/puzzles/puzzles-system-check-performance.jpg" alt="Visual programming block for benchmarking GPUs">

    <p>
      You can use this puzzle’s slots to load a simpler scene, or to disable some graphically intensive features (such as post-processing effects) for poor GPUs. On the other hand – if the user’s GPU appears to be powerful – you can boost the quality up.
    </p>

    <p>
      We also added this benchmark to the <a href="http://soft8soft.com/webglreport" target="_blank">WebGL Report</a> page so that you can quickly check your GPU by simply opening this page in the browser.
    </p>

    <img src="files/puzzles/webgl-report-performance-output.png" alt="WebGL system report page" style="max-width: 705px">

    <p class="note">
      If the user's GPU reported as "good" it does not mean you can overload it by heavy graphics. You still need to do as much as possible to optimize your app!
    </p>


    [anchor:feature_available]

    <h3>feature available</h3>

    <p>
      Check if a feature selected from the drop-down is available in the user's browser. If the feature is available, the puzzle returns `true`, otherwise it returns `false`.
    </p>

    <img src="files/puzzles/puzzles-system-feature-available.jpg" alt="Visual logic block to query browser features">

    <p>Features which can be checked with this puzzle include:</p>

    <table>
      <tr>
        <th>Feature</th>
        <th>Description</th>
      </tr>
      <tr>
        <td>Mobile Device</td>
        <td>The app is running on mobile device (phone, tablet, portable VR headset).</td>
      <tr>
      </tr>
      <tr>
        <td>Android</td>
        <td>The app is running on Android device.</td>
      </tr>
      <tr>
        <td>iOS</td>
        <td>The app is running on iOS or iPadOS device.</td>
      </tr>
      <tr>
        <td>Windows</td>
        <td>The app is running on Windows OS.</td>
      </tr>
      <tr>
        <td>macOS</td>
        <td>The app is running on macOS.</td>
      </tr>
      <tr>
        <td>ChromeOS</td>
        <td>The app is running on ChromeOS.</td>
      </tr>
      <tr>
        <td>Linux</td>
        <td>The app is running on Linux (Ubuntu, Fedora, etc).</td>
      </tr>
      <tr>
        <td>Google Chrome</td>
        <td>The app is running in Google Chrome browser or one of its clones (Chromium, Brave, but not Edge).</td>
      </tr>
      <tr>
        <td>Firefox</td>
        <td>The app is running in Firefox browser.</td>
      </tr>
      <tr>
        <td>Internet Explorer</td>
        <td>This feature is always `false` since Verge3D dropped support for Internet Explorer long time ago. Remains for compatibility purposes.</td>
      </tr>
      <tr>
        <td>Microsoft Edge</td>
        <td>The app is running in Microsoft Edge browser.</td>
      </tr>
      <tr>
        <td>Safari</td>
        <td>The app is running in Apple Safari browser.</td>
      </tr>
      <tr>
        <td>Touch Screen</td>
        <td>The system has touch screen device.</td>
      </tr>
      <tr>
        <td>Retina Display (HiDPI)</td>
        <td>The system has high resolution display (Retina), e.g its <a href="manual/en/puzzles/System.html#native_screen_scale">native screen scale</a> value is greater or equal to `2`.</td>
      </tr>
      <tr>
        <td>High Dynamic Range (HDR)</td>
        <td>Verge3D app is running with HDR feature enabled. This has nothing to do with HDR support by the target system display.</td>
      </tr>
      <tr>
        <td>Web Audio API</td>
        <td>System supports Web Audio (nowadays is always `true`).</td>
      </tr>
      <tr>
        <td>WebGL</td>
        <td>System supports WebGL (at least version 1.0 of this 3D web standard).</td>
      </tr>
      <tr>
        <td>WebGL 2.0</td>
        <td>System supports WebGL, version 2.0.</td>
      </tr>
      <tr>
        <td>WooCommerce</td>
        <td>App is running on the product page created by the WooCommerce plugin for WordPress.</td>
      </tr>
      <tr>
        <td>Do Not Track</td>
        <td>The user's browser has the "Do Not Track" setting enabled. This feature is considered deprecated and should not be used anymore.</td>
      </tr>
    </table>


    [anchor:get_GPU]

    <h3>get GPU</h3>

    <p>
      Outputs the user's GPU info — vendor, for example: NVIDIA Corporation, Apple Inc., Qualcomm, and GPU model, for example: GeForce GTX 1060 3GB/PCIe/SSE2, Apple A9 GPU, Adreno (TM) 330.
    </p>

    <img src="files/puzzles/puzzles-system-get-GPU.jpg" alt="Visual programming block to query GPU vendor and model">


    [anchor:set_screen_scale]

    <h3>set screen scale</h3>

    <p>
      Set screen resolution factor for the rendered canvas. Set &gt; 1 to improve quality, &lt; 1 to improve performance. 1 is the default screen scale on both Retina (aka HiDPI) and non-Retina displays.
    </p>

    <img src="files/puzzles/puzzles-system-set-screen-scale.webp" alt="Visual logic block to set screen scaling">

    <p>
      Verge3D uses 1 as default scale factor to prevent rendering of too much pixels on Retina displays. If performance is not a concern, enable Retina rendering by setting the screen scale to <a href="manual/en/puzzles/System.html#native_screen_scale">native screen scale</a>, alternatively use some in-between value (e.g. 1.5).
    </p>


    [anchor:native_screen_scale]

    <h3>native screen scale</h3>

    <p>
      Native (depends on hardware or browser zooming) canvas resolution factor. If you don't <em>zoom in</em> or <em>zoom out</em> your page, this value equals to 1 for non-Retina displays, &gt; 1 for HiDPI displays, modern smartphones and tablets.
    </p>

    <img src="files/puzzles/puzzles-system-native-screen-scale.jpg" alt="Native screen scale visual programming block">


    [anchor:detect_gamepad]

    <h3>detect gamepad device</h3>

    <p>
      Detect gamepad devices connected to or disconnected from your system. When a new gamepad device found, the puzzles specified in the *once connected do* slot are triggered. When the device disconnected, the puzzles specified in the *once disconnected do* slot are triggered. In any case the value <a href="manual/en/puzzles/System.html#gamepad_index">gamepad index</a> is set and returns the device index.
    </p>

    <img src="files/puzzles/puzzles-system-detect-gamepad.jpg" alt="Visual programming block to query gamepads">


    [anchor:gamepad_index]

    <h3>gamepad index</h3>

    <p>
      Returns connected/disconnected gamepad device index.
    </p>

    <img src="files/puzzles/puzzles-system-gamepad-index.webp" alt="Visual programming block to query gamepad index">


    [anchor:get_gamepad_prop]

    <h3>get gamepad property</h3>

    <p>
      Returns a gamepad property for the device with the given index.
    </p>

    <img src="files/puzzles/puzzles-system-get-gamepad-prop.jpg" alt="Block to get gamepad property" style="max-width: 951px">

    <p>Properties:</p>

    <ul>
      <li>*connection status* — whether the device is connected (returns <em>true</em>) or disconnected (returns <em>false</em>).</li>
      <li>*axis* — device axis position in the range <em>-1.0–1.0</em>. For example, an analog thumb stick found on all recent gamepads is represented by two axes: left–right and up–down.</li>
      <li>*button* — device button state. Returns <em>true</em> when the button is pressed and <em>false</em> otherwise.</li>
      <li>*analog button* — analog button state. Similar to button but can detect the amount which the button has been pressed. Returns value in the range <em>0–1</em>.</li>
      <li>*id* — device ID string. Identifies the brand and model of the connected device.</li>
      <li>*timestamp* — last time the axes/buttons for the gamepad were updated. You can store this value in a variable and compare with the current timestamp each frame to detect that some stick/button was moved/pressed.</li>
      <li>*mapping* — device mapping: "standard" for the gamepad that has standard layout, "xr-standard" for the gamepad that has layout of a standard AR/VR controler, "" (empty string) for unknown device.</li>
      <li>*debug info* — output string with debugging information. Print this info with <a href="manual/en/puzzles/System.html#print_to_console">print to console</a> puzzle to learn what buttons or sticks are available on the connected gamepad device.</li>
    </ul>

    [demo:farmers_journey]

    <p>
      To assign proper sticks/buttons in your application use the <a href="https://www.soft8soft.com/gamepad_diagnostics/gamepad_diagnostics.html" target="_blank">Gamepad Diagnostics</a> tool, *debug info* property or follow the Standard Gamepad layout (may not work properly for all kinds of devices):
    </p>

    <img src="files/puzzles/standard-gamepad.svg" alt="Standard gamepad stick/button layout" style="max-width: 800px">

    <p>In case of standard AR/VR controllers, the layout is different:</p>

    <img src="files/puzzles/xr-standard-gamepad.svg" alt="Standard AR/VR conroller stick/button layout" style="max-width: 700px">


    [anchor:local_storage_set]

    <h3>storage set</h3>

    <p>
      Stores key-value pairs in the web browser's local storage with no expiration time. This means that data stored in the browser will persist even after the browser window is closed. Note: the local storage of web browser in a "private browsing" or "incognito" session is cleared when the last "private" tab is closed.
    </p>

    <p>
      The key must be a text. The following data types are supported as an assigned value: number, text, list, dictionary.
    </p>

    <img src="files/puzzles/puzzles-system-local-storage-set.jpg" alt="Block to record data in browser local storage">


    [anchor:local_storage_get]

    <h3>storage get</h3>

    <p>
      Returns an value associated with a specified key in the web browser's local storage.
    </p>

    <img src="files/puzzles/puzzles-system-local-storage-get.jpg" alt="Visual programming block to access browser local storage">


    [anchor:local_storage_remove]

    <h3>storage remove</h3>

    <p>
      Removes an value associated with a specified key in the web browser's local storage.
    </p>

    <img src="files/puzzles/puzzles-system-local-storage-remove.jpg" alt="Visual programming block to remove data from browser local storage">


    [anchor:local_storage_check]

    <h3>storage check</h3>

    <p>
      Checks if a specified key is present in the web browser's local storage. Returns the Boolean-typed result *true* or *false*.
    </p>

    <img src="files/puzzles/puzzles-system-local-storage-check.jpg" alt="Checking local storage with visual programming">


    [anchor:close_app]

    <h3>close app</h3>

    <p>
      Closes the Verge3D application. Due to security limitations imposed by web browsers, this puzzle only works for <a href="manual/en/introduction/Creating-Desktop-Apps.html">Electron</a>, <a href="manual/en/introduction/Creating-Mobile-Apps.html">Cordova</a>, or <a href="manual/en/puzzles/HTML.html#open_web_page">programmatically opened</a> pages.
    </p>

    <img src="files/puzzles/puzzles-system-close-app.webp" alt="Visual logic block to close the app">


    <h2>Having Troubles with Puzzles?</h2>

    <p>Seek help on the <a href="https://www.soft8soft.com/forums/" target="_blank">forums</a>!</p>

  </article></body>
</html>
