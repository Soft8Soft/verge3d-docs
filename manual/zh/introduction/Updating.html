<!DOCTYPE html>
<html lang="zh">
<head>
  <title>更新Verge3D版本 - Soft8Soft</title>
  <meta charset="utf-8">
  <meta name="description" content="了解如何在Verge3D新版本发布后正确地更新自己的应用。">
  <base href="../../../">
  <script src="page.js"></script>
  <link type="text/css" rel="stylesheet" href="page.css">
</head>
<body><article>

    <h1>版本更新</h1>

    <p>
      Verge3D一直处在快速迭代开发中，定期发布新版本。另外还有预览版发行渠道，更新频率更高。我们建议您跟上开发周期，即时更新您的Verge3D应用及升级Verge3D主程序。
    </p>

    [contents]
    

    [anchor:update_verge3d_installation_windows]

    <h2>在Windows系统中升级Verge3D安装包</h2>

    <p>
      只需将最新的Verge3D发行版下载并安装到同名文件夹中（默认为"C:\Program Files\Verge3D_for_Blender"）。
    </p>

    <img src="files/installation-blender/windows-installer2.jpg" alt="Verge3D安装程序" style="max-width: 498px">

    [anchor:update_verge3d_installation_linux]

    <h2>在macOS/Linux系统中升级Verge3D安装包</h2>

    
    <p>
      通过重命名的方式来备份当前的Verge3D文件夹（例如，将“verge3d”重命名为“verge3d_old”）。
    </p>

    <p>
      下载并解压Verge3D最新版软件包到一个新的同名文件夹中（即Verge3D）。
    </p>

    <img src="files/updating/files-backup.jpg" alt="Verge3D folder backup in file manager">

    <p>
      通过使用相同的文件夹名称，以避免在3D软件中重新配置路径。
    </p>


    [anchor:update_applications]

    <h2>更新应用</h2>


    [anchor:Update_Applications_Auto]

    <h3>方法#1：使用更新功能自动更新</h3>

    <p>
      只需将整个应用文件夹复制到新安装的Verge3D的 <strong>applications</strong> 文件夹即可。启动应用管理器后，您的应用名称会显示在应用列表中（如果没有，则刷新页面）。单击带有圆形箭头的更新按钮。
    </p>

    <img src="files/updating/app-manager-update-button.jpg" alt="应用管理器中的更新按钮" style="max-width: 801px">

    <p>
      在显示的窗口中，选择您要覆盖的模板文件。如果您未编辑这些文件，则可以安全地选择所有内容。如果您修改了他们，请务必仔细检查，覆盖前请务必备份文件以用于恢复。
    </p>
      
    <img src="files/updating/application-update-window.jpg" alt="应用管理器中的更新对话框" style="max-width: 600px">

    <p>
      此操作将在后台覆盖 <strong>/build</strong> 文件夹中的引擎模块, 即Verge3D运行环境 <strong>v3d.js</strong>与可选兼容模块：
      
      <ul>
        <li><strong>opentype.js</strong> — 在创建应用时勾选 *Font Converter* 复选框以启用。</li>
        <li><strong>basis_transcoder.js/basis_transcorder.wasm</strong> — 在创建应用时勾选 *Texture Decompressor* 复选框以启用。</li>
        <li><strong>ammo.wasm.js/ammo.wasm.wasm</strong> — 在创建应用时勾选 *Physics* 复选框以启用。</li>
      </ul>

    <p>
      如果您执行了此更新，应用管理器将会使用 <strong>/manager/templates/template_name</strong> 文件夹（位于Verge3D安装路径中）的文件覆盖选定的 HTML/CSS/JavaScript 文件和存在 <strong>media</strong> 文件夹的图标文件。
    </p>

    <p>
      更新时，应用管理器会将文件的旧版本保存在 <strong>v3d_app_data/update_backup</strong> 文件夹中，并添加了时间戳的目录中。因此您若有需要，可从此处恢复先前保存的修订版本。只需将文件复制回应用文件夹根目录，并从其名称中删除时间戳既可。
    </p>


    [anchor:Update_Applications_Clean]

    <h3>方法#2：从头重建应用以执行清洁更新</h3>

    <p>
      这是当您完全掌控文件时的一种替代方法。您可以用这种方法来删除过时的文件，或者因某些原因自动更新不可用时来手动操作。
    </p>

    <p>
      为执行清洁更新，请在在应用管理器的创建新应用窗口输入应用的名称，然后点击新建应用。
    </p>
    
    <img src="files/updating/app-manager-create-new.jpg" alt="在应用管理器中创建新应用" style="max-width: 573px">

    <p>
      从原文件夹复制 <strong>.max</strong> ， <strong>.blend</strong> 或 <b>.mb</b> 文件，所有的贴图、声音和拼图场景文件 <strong>visual_logic.xml</strong> 到新应用文件夹中（在 <strong>verge3d/applications</strong> 中）。当系统提示文件已存在时，请选择覆盖。如果你在应用中选择了基于HTML的UI时，请同样拷贝相关文件到目标文件夹。
    </p>
    
    <img src="files/updating/files-copy.jpg" alt="在文件管理器中拷贝文件">

    <p>
      最后，您还需要执行glTF的导出，以便其能够跟进最近的更新。如果您的应用中使用了拼图，您需要在拼图编辑器中重新保存场景以生成与最新版引擎匹配的代码。
    </p>

    <p>
      如果您更改了应用的 .html， .css 或 .js 文件，请记得备份文件，以便后期可以修改。
    </p>

    
    [anchor:After_Update]

    <h2>更新后</h2>

    <h3>重新激活您的授权许可</h3>

    <p>
      升级版本后，您需要重新输入授权码，否则您的应用运行时将会带有试用版水印。
    </p>


    [anchor:Known_Issues_and_Troubleshooting]

    <h2>已知问题及故障排除方法</h2>

    <p>
      在极少数情况下，应用的“拼图”按钮会在应用管理器中消失。请执行清洁更新以修复此问题。
    </p>

    <p>
      在极少数情况下，拼图编辑器在更新后可能无法加载。请重置浏览器设置以修复此问题。请重置浏览器设置以修复此问题。
    </p>

    <p>
      如果更新后某些功能出现故障，请在 <a href="https://www.soft8soft.com/forum/bug-reports-and-feature-requests/" target="_blank">论坛</a> 上报告，以便我们调查问题并发布更正版本。
    </p>


    <h2>遇到问题？</h2>

    <p>欢迎您随时在 <a href="https://www.soft8soft.com/forums/" target="_blank">论坛</a>上提问！您还可以加入中文用户社区<a href="https://shang.qq.com/wpa/qunwpa?idkey=c31cf6597f3ed7ce68bd47aba6bba23049bf973ac6acc59b0a5a7d1bd933b3ea" target="_blank">QQ群(171678760)</a>，在线寻求帮助。</p>

  </article></body>
</html>
