<!DOCTYPE html>
<html lang="zh">
<head>
  <title>使用Apache Cordova创建手机应用 - Soft8Soft</title>
  <meta charset="utf-8">
  <meta name="description" content="了解如何使用Apache Cordova创建跨平台的Verge3D手机应用。">
  <base href="../../../">
  <script src="page.js"></script>
  <link type="text/css" rel="stylesheet" href="page.css">
  <meta property="og:image" content="https://cdn.soft8soft.com/images/cordova.jpg">
  <meta property="article:tag" content="cordova">
</head>
<body><article>

    <h1>使用Apache Cordova创建手机应用 </h1>

    <p>
        Apache Cordova是一个可以将网页应用打包成为跨平台手机应用的工具。Cordova主要用于为Android和iOS平台创建应用程序，但也可以开发Windows、macOS和Linux应用程序。该工具完全免费，易于使用，并允许用JavaScript进行高级定制（如果需要）。
    </p>


    [contents]
    
    
    [anchor:preliminary_considerations]

    <h2>初步考虑</h2>

    <p>
        在开始使用Cordova之前，请确保具备以下条件：
    </p>

    <ul>
      <li>
        硬件。您可以在任何运行Windows、macOS或Linux的电脑上开发Android应用程序，而为苹果设备开发应用则需要一台像样的Mac系统。
    </li>

      <li>
        基本的windows/macos/linux控制台（命令提示符）使用技能。如果您不会，请在互联网上搜索相关的新手教程。
    </li>

      <li>
        时间。通过遵循本指南，您可以非常快速地构建您的第一个应用。但要获得开发者帐户的批准，可能需要数小时甚至几天。在这之后，您才可以并在苹果应用商店或Google Play中发布应用。
    </li>

      <li>
        钱。在自己的设备上创建和运行应用是完全免费的。但要在Google Play上发布，需要支付25美元（一次性付费），而在苹果应用商店，则需要每年支付99美元。
    </li>
    </ul>

    <p>
        但好的一点，您不需要成为安卓或iOS开发者，就可以为这些平台创建应用。一旦您的开发系统启动并运行，创建Verge3D应用的移动版本将是非常容易的！
    </p>


    [anchor:getting_cordova]

    <h2>Apache Cordova入门</h2>

    <p>
        要使用 Cordova，您需要 *npm* 实用程序，它是*node.js*运行时的一部分。您可以参照 <a href="https://nodejs.org/en/download/" target="_blank">如下说明</a> 安装 *npm* 。
    </p>

    <p class="note">
        对于Linux，推荐您通过软件包管理器获取npm。参见 <a href="https://nodejs.org/en/download/package-manager/" target="_blank">这里</a> 了解详情。
    </p>

    <p>
        安装npm后，可使用以下命令来安装Cordova二进制文件。
    </p>

    <p>在macOS/Linux上：</p>

    <code>sudo npm install -g cordova</code>

    <p>在Windows上：</p>

    <code>npm install -g cordova</code>


    [anchor:creating_app_tempalte]

    <h2>创建应用模板</h2>

    <p>
        您可以手动或使用Cordova命令行工具创建您的移动应用。为简化操作，我们在应用管理器中集成了Cordova模板。
    </p>
    
    <img src="files/creating-mobile-apps/app-manager-create-native-app.jpg">

    <p>
        通过它您可以从Verge3D应用中直接创建一个Cordova应用模板。
    </p>
    
    <img src="files/creating-mobile-apps/app-manager-cordova.jpg">
    
    <p>
        模板准备就绪后，请下载并将zip文件解压到某个自定义的目录中。
    </p>

    
    [anchor:creating_android_app]

    <h2>创建Android应用</h2>

    <p>
        转到Cordova应用模板所在目录，然后添加Android平台：
    </p>
    
    <code>cordova platform add android</code>

    <p>
        现在到了最难的部分。为了能够在Android模拟器或真实设备中构建和测试应用，您需要安装和配置额外的软件。
    </p>

    <p>
        首先，您需要安装Android Studio，从 <a href="https://developer.android.com/studio">这里</a> 下载。
    </p>

    <p>
        安装Android Studio后，需要在 *Android_SDK_ROOT* 环境变量中指定路径。在Windows上，您还需要用Java目录的路径设置 *JAVA_HOME* 变量。
    </p>

    <p>
        查看 <a href="https://cordova.apache.org/docs/en/10.x/guide/platforms/android/index.html#setting-environment-variables">这里</a> 了解如何设置这些变量。
    </p>

    <p>
        您需要的最后一件事是 *Gradle* 构建工具。请查阅 <a href="https://gradle.org/install/">这里</a> 的指引。
    </p>

    <p>
        要检查您是否满足构建要求，请在应用目录中执行以下命令：
    </p>

    <code>cordova requirements</code>

    <p>
        要建立您的应用，请执行：
    </p>

    <code>cordova build android</code>

    <p>
        要在Android模拟器中运行应用，请执行：
    </p>

    <code>cordova emulate android</code>

    <p>
        要在连接到系统的真实手机上运行应用，请运行：
    </p>

    <code>cordova run android</code>


    [anchor:creating_ios_app]

    <h2>创建iOS应用</h2>

    <p>
        转到Cordova应用模板所在目录，然后添加iOS平台：
    </p>

    <code>cordova platform add ios</code>

    <p>
        现在到了最难的部分。为了能够在iOS模拟器或真实设备中构建和测试应用，您需要安装和配置额外的软件。
    </p>

    <p>
        首先，您需要安装 *Xcode* ，请从Mac应用商店下载安装。
    </p>

    <p>
        接下来，请安装 *HomeBrew* 软件包管理器：
    </p>
        
    <code class="language-sh">/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"</code>

    <p>
        之后，您需要 <strong>ios-deploy</strong> 工具。
    </p>

    <code>brew install ios-deploy</code>

    <p>
        然后，您将需要 *CocoaPods* 依赖项管理器：
    </p>

    <code>sudo gem install cocoapods</code>

    <p>
        要检查您是否满足构建要求，请在应用目录中执行以下命令：
    </p>

    <code>cordova requirements</code>

    <p>
        是时候来运行您的应用了，请执行：
    </p>

    <code>cordova emulate ios</code>

    <p>
        在iOS模拟器中构建并运行。
    </p>
    
    <img src="files/creating-mobile-apps/farmers-journey-ios.jpg" style="max-width: 415px">

    <p>
        要在连接到系统的真实手机上运行应用，请执行：
    </p>

    <code>cordova run ios</code>

    <p>
        要在真实的设备上运行，您的应用必须通过Xcode签名。请查阅 <a href="https://help.apple.com/xcode/mac/current/#/dev5a825a1ca" target="_blank">这里</a> 的说明。
    </p>



    [anchor:beautifying_things]

    <h2>美化</h2>


    [anchor:modifying_app_icon]

    <h3>修改应用名称和图标</h3>

    <p>
        请参阅 <a href="https://cordova.apache.org/docs/en/latest/config_ref/images.html" target="_blank">Cordova官方指南</a> 了解如何为应用指定自定义图标。
    </p>


    [anchor:cordova_specific_events]

    <h3>Cordova专属事件</h3>

    <p>
        有3个针对 Cordova的事件可以通过JavaScript或拼图来实现，您可以用它来使应用更适合移动端。
    </p>

    <ul>
      <li>*deviceready* — 在应用完全初始化时触发。还可以用它来检测应用何时在Cordova上运行。</li>
      <li>*pause* — 当应用进入后台或被另一个应用切换时触发。可以使用它来暂停应用渲染/声音播放/视频等。</li>
      <li>*resume* — 当应用被激活时触发。此事件与 *pause* 相反。</li>
    </ul>
    
    <img src="files/creating-mobile-apps/cordova-events-puzzles.jpg">

    <p>
        确保您在 *document* 元素上注册了这些事件。此外，如果您的应用运行在iframe中，请使用 *in parent doc* 选项（请在 <a href="manual/zh/introduction/HTML-based-user-interfaces.html">这里</a> 阅读有关此设置的更多信息）。
    </p>

    [anchor:native_ui_dialogs]

    <h3>创建原生UI对话框</h3>

    <p>
        使用 <a href="https://cordova.apache.org/docs/en/10.x/reference/cordova-plugin-dialogs/index.html" target="_blank">cordova-plugin-dialogs</a> 插件。
    </p>


    [anchor:more_features]

    <h3>更多功能</h3>

    <p>
        您可以创建功能齐全的应用，包括访问摄影机、电池信息、设备文件、系统、地理位置等。请参阅 <a href="https://cordova.apache.org/docs/en/latest/" target="_blank">Cordova文档</a> 中的相应插件。
    </p>


    [anchor:publishing]

    <h2>发布您的应用</h2>

    <p>
        请查阅 <a href="https://jackmckew.dev/releasing-cordova-apps-on-google-play-app-store.html" target="_blank">这里</a> 的指引。
    </p>


    <h2>遇到问题？</h2>

    <p>欢迎您随时在 <a href="https://www.soft8soft.com/forums/" target="_blank">论坛</a>上提问！您还可以加入中文用户社区<a href="https://shang.qq.com/wpa/qunwpa?idkey=c31cf6597f3ed7ce68bd47aba6bba23049bf973ac6acc59b0a5a7d1bd933b3ea" target="_blank">QQ群(171678760)</a>，在线寻求帮助。</p>

  </article></body>
</html>
