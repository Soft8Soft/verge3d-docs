<!DOCTYPE html>
<html lang="zh">
<head>
  <title>系统类拼图参考 - Soft8Soft</title>
  <meta charset="utf-8">
  <meta name="description" content="这些拼图可以用来检索和打印变量值，测量性能，以及检索GPU信息。">
  <base href="../../../">
  <script src="page.js"></script>
  <link type="text/css" rel="stylesheet" href="page.css">
</head>
<body><article>

    <h1>系统 | System</h1>

    <p>
      这些拼图可以用来执行各种系统功能，比如打印到控制台，测量性能，获取/设置渲染的像素比和检索GPU信息。
    </p>
    
    <img src="files/puzzles/puzzles-system.jpg">

    <h2>内容</h2>

    [contents]
    
    
    [anchor:puzzles_reference]

    <h2>拼图参考</h2>


    [anchor:print_to_console]

    <h3>print to console(打印到控制台)</h3>

    <p>
      打印任何类型的数据（某个拼图的输出，一个变量，或者只是一个文本）到浏览器 <a href="manual/zh/introduction/FAQ.html#browser_console">控制台</a>。打印到控制台是您调试脚本的最常用和最简单的方法。
    </p>
      
    <img src="files/puzzles/puzzles-system-print-console.jpg">


    [anchor:print_performance_info]

    <h3>print performance info(打印性能信息)</h3>

    <p>
      记录1秒钟内的性能概况，并将其打印到浏览器 <a href="manual/zh/introduction/FAQ.html#browser_console">控制台</a>。使用这个配置文件可以找到性能瓶颈，提高应用的渲染和加载速度。在 <a href="manual/zh/introduction/Performance-Bottlenecks.html#performance_profile">这里</a>查看详情。
    </p>
      
    <img src="files/puzzles/puzzles-system-print-performance-info.jpg">


    [anchor:check_performance]
    
    <h3>检查性能</h3>

    <p>
      检查用户计算机或设备的渲染能力。其底层基于开源库 <a href="https://github.com/pmndrs/detect-gpu" target="_blank">Detect GPU</a> 以进行快速的基准检查并将用户的GPU分类为 “good(好)” 或 “poor(差)”。
    </p>

    <img src="files/puzzles/puzzles-system-check-performance.jpg">

    <p>
      您可以使用此拼图为性能较差的设备加载更简单的场景或禁用一些消耗图形性能较多的功能（例如后期处理效果）。另一方面，如果用户的GPU性能更加强大，则可以提高渲染的质量。
    </p>

    <p>
      我们还将此性能测试添加到了 <a href="http://soft8soft.com/webglreport" target="_blank">WebGL Report</a> 页面里，以便于您在浏览器中访问此页即可快速检查GPU。
    </p>

    <img src="files/puzzles/webgl-report-performance-output.png" style="max-width: 705px">

    <p class="note">
      即使用户的GPU报告为 "good(好)" ，也并不意味着您可以任意加载性能繁重的图形资产。您应该始终尽可能多地优化应用场景。
    </p>

    
    [anchor:feature_available]

    <h3>feature available(功能可用)</h3>

    <p>
      检查从下拉菜单中选择的功能在用户的浏览器中是否可用。
    </p>
      
    <img src="files/puzzles/puzzles-system-feature-available.jpg">


    [anchor:get_GPU]

    <h3>get GPU(获取GPU信息)</h3>

    <p>
      输出用户的GPU信息——例如厂商信息：NVIDIA公司、苹果公司、高通公司，以及GPU的型号，例如：GeForce GTX 1060 3GB/PCIe/SSE2, Apple A9 GPU, Adreno (TM) 330等。
    </p>
      
    <img src="files/puzzles/puzzles-system-get-GPU.jpg">


    [anchor:set_screen_scale]

    <h3>set screen scale(设置屏幕比例)</h3>

    <p>
      为渲染的画布设置屏幕分辨率系数。设置 &gt;1 以提高质量，&lt;1 以提高性能。1是视网膜（又称HiDPI）和非视网膜显示器上的默认屏幕比例。
    </p>
      
    <img src="files/puzzles/puzzles-system-set-screen-scale.jpg">
    
    <p class="note">为了防止在视网膜显示器上渲染过多的像素，Verge3D使用1作为默认比例因子。如果无需顾虑性能问题，可以通过将屏幕比例设置为原始屏幕比例以启用视网膜渲染。</p>


    [anchor:native_screen_scale]

    <h3>native screen scale(原生屏幕比例)</h3>

    <p>
      原生（取决于硬件或浏览器缩放）画布分辨率系数。如果您没有 <em>放大</em> 或 <em>缩小</em> 页面，这个值对于非视网膜显示器来说等于1，对于HiDPI显示器、现代智能手机和平板电脑来说大于1。
    </p>
      
    <img src="files/puzzles/puzzles-system-native-screen-scale.jpg">


    [anchor:detect_gamepad]

    <h3>detect gamepad device(检测游戏手柄设备)</h3>

    <p>
      检测连接到系统或与系统断开连接的游戏手柄设备。当发现一个新的游戏手柄设备时，在 "once connected do(当连接时执行)" 插槽中指定的拼图会被触发。当设备断开连接时，在 "once disconnected do(当断开时执行)" 插槽中指定的拼图会被触发。在任何情况下， "gamepad index" 值都会被设置，并返回设备索引。
    </p>
      
    <img src="files/puzzles/puzzles-system-detect-gamepad.jpg">


    [anchor:gamepad_index]

    <h3>gamepad index(游戏手柄索引)</h3>


    <p>
      返回连接/断开连接的游戏手柄设备索引。
    </p>

    [anchor:get_gamepad_prop]

    <h3>get gamepad property(获取游戏手柄属性)</h3>

    <p>
      返回具有给定索引的游戏手柄属性到设备。
    </p>
      
    <img src="files/puzzles/puzzles-system-get-gamepad-prop.jpg" style="max-width: 951px">

    <p>属性：</p>

    <ul>
      <li>*connection status(连接状态)* - 设备连接状态，连接——返回 <em>true</em> ，断开连接——返回 <em>false</em> 。</li>
      <li>*axis* - 设备轴的位置，范围为 <em>-1.0-1.0</em>。例如，在所有最近的游戏手柄上发现的模拟按键摇杆由两个轴表示：左-右 和 上-下 。</li>
      <li>*button* - 设备按键状态。当按键被按下时返回 <em>true</em> ，否则返回 <em>false</em> 。</li>
      <li>*analog button* - 模拟按键状态。与按键类似，但可以检测按键被按下的程度。返回范围为 <em>0-1</em> 的值。</li>
      <li>*id* - 设备ID字符串。识别连接设备的品牌和型号。</li>
      <li>*timestamp* - 游戏手柄的轴/按键最后一次被更新的时间。您可以将这个值存储在一个变量中，并在每一帧中与当前的时间戳进行比较，以检测某些轴/角度是否被改变。</li>
      <li>*debug info* - 输出带有调试信息的字符串。用 <a href="manual/zh/puzzles/System.html#print_to_console">print to console(打印到控制台)</a> 拼图来了解所连接的游戏手柄设备上有哪些按键或摇杆。</li>
    </ul>

    <p>要在您的应用中分配轴和按键，请使用 <a href="https://www.soft8soft.com/gamepad_diagnostics/gamepad_diagnostics.html" target="_blank">游戏手柄诊断</a> 工具，*debug info*属性应该会遵循标准游戏手柄布局（不是对所有种类的设备都能正常工作）。</p>
      
    <img src="files/puzzles/standard-gamepad.svg">
    
    
    [anchor:local_storage_set]

    <h3>storage set(设置存储)</h3>

    <p>
      将键值对存储在浏览器的本地存储(Local Storage)中，数据不会过期。这意味着即使浏览器窗口关闭，存储在浏览器中的数据仍将保留。注意：如果使用“隐私浏览”或“无痕”模式，最后一个“inPrivate”标签关闭时，隐私会话中浏览器的本地存储将被清除。
      键值必须是文本。支持将以下数据类型作为指定值：数字、文本、列表、字典。
    </p>

    <img src="files/puzzles/puzzles-system-local-storage-set.jpg">


    [anchor:local_storage_get]

    <h3>storage get(获取存储)</h3>

    <p>
      返回网页浏览器本地存储中与指定键关联的值。
    </p>

    <img src="files/puzzles/puzzles-system-local-storage-get.jpg">


    [anchor:local_storage_remove]

    <h3>storage remove(移除存储)</h3>

    <p>
      删除网页浏览器本地存储中与指定键关联的值。
    </p>

    <img src="files/puzzles/puzzles-system-local-storage-remove.jpg">


    [anchor:local_storage_check]

    <h3>storage check(检查存储)</h3>

    <p>
      检查网页浏览器的本地存储中是否存在指定的键。返回布尔类型的结果为 *true* 或 *false* 。
    </p>

    <img src="files/puzzles/puzzles-system-local-storage-check.jpg">


    <h2>在使用拼图时遇到困难？</h2>
    
    <p>欢迎您随时在 <a href="https://www.soft8soft.com/forums/" target="_blank">论坛</a>上提问！您还可以加入中文用户社区<a href="https://shang.qq.com/wpa/qunwpa?idkey=c31cf6597f3ed7ce68bd47aba6bba23049bf973ac6acc59b0a5a7d1bd933b3ea" target="_blank">QQ群(171678760)</a>，在线寻求帮助。</p>

    
  </article></body>
</html>
