<!DOCTYPE html>
<html lang="zh">
<head>
  <title>过程类拼图参考 - Soft8Soft</title>
  <meta charset="utf-8">
  <meta name="description" content="过程（又称函数）是一个已命名的拼图组，用于执行一个特定的任务。使用过程来组织拼图组，可使您的场景更加简洁、紧凑和易于维护。">
  <base href="../../../">
  <script src="page.js"></script>
  <link type="text/css" rel="stylesheet" href="page.css">
</head>
<body><article>
    <h1>过程 | Procedures</h1>

    <p>
      过程（又称函数）是一个已命名的拼图组，用于执行一个特定的任务。使用过程来组织拼图组，可使您的场景更加简洁 紧凑和易于维护。
    </p>

    [contents]
    

    [anchor:creating_procedures]

    <h2>创建过程拼图</h2>

    <p>
      从工具箱中拖出一个过程定义拼图，将拼图组填充进去，即可创建一个新的过程拼图。
    </p>
      
    <img src="files/puzzles/puzzles-procedures-create.jpg">

    <p>
      新创建的过程拼图可以被重新命名，并与其他拼图组合再在一起以执行任务。
    </p>
      
    <img src="files/puzzles/puzzles-procedures-create2.jpg">


    [anchor:calling_procedures]

    <h2>调用过程拼图</h2>

    <p>
      要触发或调用一个过程拼图，请从工具箱中拖出相应的拼图到场景中。
    </p>
      
    <img src="files/puzzles/puzzles-procedures-trigger.jpg">

    <p>
      一个过程拼图可以在场景中的多个地方被多次触发。这样即可重复使用拼图，而不是直接复制类似的拼图组。例如，当用户点击对象本身或HTML按钮，启动对应的一个动画片段（复用了动画控制）。
    </p>
      
    <img src="files/puzzles/puzzles-procedures-trigger2.jpg">

    <p>
      一个过程拼图中可以有额外的输入参数（称为parameters或arguments）。为过程拼图添加输入参数：请点击齿轮图标，从左边的工具箱中拖出一个参数拼图，填充到输入拼图中。
    </p>
      
    <img src="files/puzzles/puzzles-procedures-inputs.jpg">

    <p>
      当你在过程拼图中添加输入参数后，会自动在 "变量 | Variables" 类目中创建对应名称的变量拼图。要使用在过程拼图中添加的输入参数，请将其从 "变量 | Variables" 类目中拖拽到场景中。
    </p>
      
    <img src="files/puzzles/puzzles-procedures-inputs2.jpg">

    <p>
      这个变量可以作为实际数据（如对象名称）的替身来执行一些任务。
    </p>
      
    <img src="files/puzzles/puzzles-procedures-inputs3.jpg">

    <p>
      当触发带有参数的过程时，其参数将提供给每一个被触发的拼图。
    </p>
      
    <img src="files/puzzles/puzzles-procedures-trigger-with-inputs.jpg">

    <p>
      您可以使用右键菜单从触发拼图跳到对应的过程定义拼图。
    </p>
      
    <img src="files/puzzles/puzzles-procedures-jump.jpg">

    <p>
      过程还可以使用 <a href="manual/zh/puzzles/Advanced.html#get_procedure">get procedure(获取过程)</a>
      和 <a href="manual/zh/puzzles/Advanced.html#call_procedure">call procedure(调用过程)</a> 拼图
      来调用。通过这种方式，可以获得一个
      过程存储在变量中，作为参数传递到另
      一个过程中，并在需要时调用。
    </p>


    [anchor:procedure_with_return]

    <h2>有返回值的过程拼图</h2>

    <p>
      过程拼图可以向其调用者输出计算值（又称返回值）。要创建有返回值的过程拼图，可从工具箱中拖出带有返回插槽的过程拼图变体。
    </p>
      
    <img src="files/puzzles/puzzles-procedures-return.jpg">


    [anchor:if_return]

    <h2>使用 "if return(如果...返回...)" 拼图</h2>

    <p>
      过程拼图可以在其内部全部拼图被解释之前，根据某些条件返回特定值。在这种情况下，过程拼图会提前停止运行。
    </p>
      
    <img src="files/puzzles/puzzles-procedures-if-return.jpg">


    [anchor:calling_procedures_javascript]

    <h2>从JavaScript中调用过程函数</h2>

    <p>
      要从外部的JavaScript代码中执行拼图过程函数，
      请使用 *your_app_name.js* 模块的 *runCode()* 函数
      的 *puzzles* 参数，或 <a href="manual/zh/puzzles/Advanced.html#exec_script">exec script</a> 拼图
      中的内置 *puzzles* 变量：
    </p>
    
    <code>
      puzzles.procedures['myProcedure']();
    </code>


    <h2>在使用拼图时遇到困难？</h2>

    <p>欢迎您随时在 <a href="https://www.soft8soft.com/forums/" target="_blank">论坛</a>上提问！您还可以加入中文用户社区<a href="https://shang.qq.com/wpa/qunwpa?idkey=c31cf6597f3ed7ce68bd47aba6bba23049bf973ac6acc59b0a5a7d1bd933b3ea" target="_blank">QQ群(171678760)</a>，在线寻求帮助。</p>


  </article></body>
</html>
