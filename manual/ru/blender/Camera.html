<!DOCTYPE html>
<html lang="ru">
  <head>
    <title>Вердж3Д для Блендера: Работа с Камерой — Софт Эйт Софт</title>
    <meta charset="utf-8">
    <meta name="description" content="Узнайте, как создавать и управлять камерами Блендера для использования в Вердж3Д.">
    <base href="../../../">
    <script src="page.js"></script>
    <link type="text/css" rel="stylesheet" href="page.css">
  </head>
  <body><article>

    <h1>Работа с камерой / Блендер</h1>

    <p>
      Эта страница содержит информацию о том, как настроить камеры в «Блендере» для их использования в «Вердж3Д».
    </p>

    [contents]


    [anchor:setting_up_in_blender]

    <h2>Настройка в «Блендере»</h2>

    <p>
      Просто добавьте камеру в сцену и назначьте ее <em>активной</em> в *Scene Properties*:
    </p>

    <img src="files/camera-blender/active-camera.jpg" alt="Установка активной камеры в Блендере" style="max-width: 309px">

    <p>
      Эта камера будет использоваться для рендера вашей сцены по умолчанию. Вы также можете добавить несколько камер и переключаться между ними используя пазл <a href="manual/ru/puzzles/Camera.html#set_active_camera">set active camera</a>.
    </p>

    <p>«Вердж3Д» поддерживает следующие типы камер:</p>

    <ul>
      <li>Перспективная (Perspective в «Блендере»)</li>
      <li>Ортографическая (Orthographic в «Блендере»)</li>
    </ul>

    <div class="note">
      <p>
        Масштабирование объекта камеры &gt; 1 или &lt; 1 не рекомендуется к использованию. Всегда выставляйте эту величину в 1:
      </p>
      <img src="files/camera-blender/zero-scaling.webp" style="max-width: 750px">
    </div>


    [anchor:camera_settings]

    <h2>Настройки камеры</h2>

    <p>«Вердж3Д» поддерживает следующие настройки камеры:</p>

    <img src="files/camera-blender/camera-settings.jpg" alt="Настройки камер в Блендере" style="max-width: 627px">

    <dl>
      <dt>Type</dt>
      <dd>Тип камеры, *Perspective* или *Orthographic*.</dd>

      <dt>Clip Start / Clip End</dt>
      <dd>Диапазон видимости камеры.</dd>

      <dt>Sensor Fit</dt>
      <dd>
        Режим подгонки сенсора — как вьюпорт будет реагировать на изменения размеров (или ориентации устройства).
        <dl>
          <dt>Auto</dt>
          <dd>Использовать тип *Vertical* для панорамной ориентации и *Horizontal* для портретной ориентации экрана. Этот режим рекомендован к использованию для равных по высоте и ширине сцен, предотвращая выход объектов за границы экрана.</dd>
          <dt>Horizontal</dt>
          <dd>Горизонтальный тип подгонки сенсора. Этот режим рекомендован для <em>широких</em> сцен. Поскольку в этом режиме фиксируется горизонтальное поле зрения, широкая сцена не будет отсекаться ни в панорамной (десктопы/ноутбуки) ни в портретной (телефоны) ориентации.</dd>
          <dt>Vertical</dt>
          <dd>Вертикальный тип подгонки сенсора. В противоположность *Horizontal*, этот тип используется для <em>высоких</em> сцен.</dd>
        </dl>
      </dd>

      <dt>Controls</dt>
      <dd>
        Указывает какой тип управления будет применён к камере в «Вердж3Д»:

        <ul>
          <li>*Orbit* — таргетированный тип управления (подобен орбитальному движению спутников вокруг планеты). Читайте подробности <a href="manual/ru/blender/Camera.html#orbit_camera_settings">ниже</a></li>
          <li>*Flying* — свободный полет камеры.</li>
          <li>*First-Person* — вид от первого лица с соответствующим управлением (ЦФЫВ).</li>
          <li>*Disable* — отключает управление. Указывается, если камера будет перемещаться с помощью анимации, пазлов или «Ява Скрипт».</li>
        </ul>
      </dd>

      <dt>Allow Panning</dt>
      <dd>Включает/отключает панорамирование.</dd>

      <dt>Rotation Speed</dt>
      <dd>Коэффициент скорости вращения камеры.</dd>

      <dt>Movement Speed</dt>
      <dd>Коэффициент скорости перемещения камеры.</dd>
    </dl>


    [anchor:orbit_camera_settings]

    <h3>Настройки камеры типа Orbit</h3>

    <p>
      Используйте панель <strong>Target Object/Point</strong> чтобы указать настройки орбитальной камеры.
    </p>

    <img src="files/camera-blender/orbit-camera-settings.jpg" alt="Настройки орбитальной камеры в Блендере" style="max-width: 325px">

    <dl>
      <dt>Manual</dt>
      <dd>Вы можете указать XYZ-координаты центра вращения (они же являются координатами цели) камеры вручную с помощью указанных числовых полей. Чтобы упростить назначение координат, имеется кнопка *From Cursor*, позволяющая вставить текущие координаты блендеровского 3Д-курсора.</dd>

      <dt>From Object</dt>
      <dd>Объект-цель. При указании объекта в этом поле, «Вердж3Д» будет использовать его координаты как центр вращения. Следует иметь в виду, что такое назначение происходит 1 раз при экспорте, то есть, если объект-цель будет двигаться в процессе работы приложения, это никак не скажется на направлении и положении камеры в пространстве.</dd>

      <dt>Update View</dt>
      <dd>Если вы перемещали камеру в «Блендере», воспользуйтесь этой кнопкой, чтобы направить камеру на центр вращения.</dd>

      <dt>Min Dist, Max Dist</dt>
      <dd>
        <p>
          Ограничения дистанции для <em>перспективной камеры</em>. В терминах «Вердж3Д», «увеличение-уменьшение» («зум») перспективной орбитальной камеры означает движение «вперёд-назад», поэтому указание ограничений дистанции также влияет на увеличение/уменьшение камеры.
        </p>
        <p class="note">
          Если вам требуется осуществлять «зум» посредством изменения поля зрения, так чтобы камера оставалась на месте, используйте пазл <a href="manual/ru/puzzles/Camera.html#set_camera_param">set camera param</a>.
        </p>
      </dd>

      <dt>Min Zoom, Max Zoom</dt>
      <dd>«Зум» ортографической камеры. В терминах «Вердж3Д», «зум» ортографической орбитальной камеры обозначает «сделать объём камеры больше-меньше». Сама камера при этом не перемещается.</dd>

      <dt>Vertical Rotation Limits: Min Angle, Max Angle</dt>
      <dd>Вертикальные (вверх-вниз) лимиты поворота камеры.</dd>

      <dt>Horizontal Rotation Limits: Min Angle, Max Angle</dt>
      <dd>Горизонтальные (влево-вправо) лимиты поворота камеры.</dd>
    </dl>


    [anchor:firstperson_camera_settings]

    <h3>Настройки камеры типа First-Person</h3>

    <p>Следующие настройки позволяют настроить камеру от первого лица (шутер от первого лица, ШПЛ).</p>

    <img src="files/camera-blender/firstperson-camera-settings.jpg" alt="Настройки камеры от первого лица в Блендере" style="max-width: 323px">

    <dl>
      <dt>Collision Material</dt>
      <dd>
        <p>
          Материал коллизий, ограничивающий перемещение камеры. Зона над этим материалом доступна для перемещения, всё остальное пространство (включая места где нет геометрии) не доступно для перемещения. Если материал коллизий не указан, камера будет вести себя аналогично режиму *Flying*.
        </p>
        <p>
          Если вам не нужно показывать материал коллизий, просто скройте его в «Блендере» (иконка с фотоаппаратом).
        </p>
        <img src="files/camera-blender/firstperson-hide-render.jpg" alt="Сокрытие объекта-колллизий в Блендере" style="max-width: 325px">
      </dd>

      <dt>Gaze Level</dt>
      <dd>Уровень головы/глаз.</dd>

      <dt>Story Height</dt>
      <dd>Максимальный размер этажа. Указывается если требуется иметь несколько этажей на сцене, например для визуализации многоуровневого коттеджа или торгового центра.</dd>

      <dt>Enable PointerLock</dt>
      <dd>Включить функцию захвата указателя мыши (происходит при старте приложения). Функция работает следующим образом: при старте приложения пользователь кликает на любом месте экрана, далее происходит захват указателя и активируется режим управления камерой по движению мыши.</dd>
    </dl>

    <p>
      Рассмотрим следующий пример. В данной сцене мы разрешаем пользователю перемещаться по белому полю (*AllowedZone*), в то время как красная область недоступна. Вы можете добавить стены над красной областью, а также предусмотреть лестницы на второй этаж, при условии, что он будет выше чем 3 метра. Дистанция от пола до глаз составляет 1,75 метра.
    </p>

    <img src="files/camera-blender/firstperson-camera-setup.jpg" alt="Пример настройки камеры от первого лица в Блендере">

    <p>
      В данном примере мы также включили функцию захвата указателя мыши.
    </p>

    <p>
      Смотрите другой пример с визуализацией объекта недвижимости, а именно земельного участка с домом — [demoLink:firstperson_camera Объект недвижимости].
    </p>


    [anchor:fit_to_camera_edge]

    <h2>Подгонка под края камеры</h2>

    <p>
      Подгонка под края камеры (называется <em>Fit to Camera Edge</em> в «Блендере») — функция «Вердж3Д» по отображению интерфейсных элементов, основанных на блендеровских объектах. Для 3Д-художников данный подход к созданию интерфейса пользователя будет более удобным, чем использование веб-вёрстки, основанной на HTML/CSS. Кроме того, в таком случае не потребуется использовать сторонние программы для веб-дизайна, применяя лишь знакомые техники, поддерживаемые в 3Д-редакторе: редактор шейдеров, освещение, анимация, морфинг и др. По сути данный подход предполагает использование «Блендера» как основного и единственного инструмента для создания всего веб-контента.
    </p>

    <p>
      Данная функция активируется, когда вы делаете любой объект дочерним к камере. После чего в вашем распоряжении оказываются следующие настройки на панели *Object Properties*:
    </p>

    <img src="files/camera-blender/fit-to-camera-edge-properties.jpg" alt="Настройки подгонки под края камеры" style="max-width: 325px">

    <dl>
      <dt>Horizontal</dt>
      <dd>
        Горизонтальный край камеры для подгонки объекта. *None* — нет подгонки, *Left* — подгонка к левому краю, *Right* — подгонка к правому краю, *Stretch* — растянуть объект слева-направо на всю ширину.
      </dd>
      <dt>Vertical</dt>
      <dd>
        Вертикальный край камеры для подгонки объекта. *None* — нет подгонки, *Top* — подгонка к верхнему краю, *Bottom* — подгонка к нижнему краю, *Stretch* — растянуть объект сверху-вниз на всю высоту.
      </dd>
      <dt>Shape</dt>
      <dd>
        Форма объекта для подгонки. *Box* — использовать охватывающий прямоугольный параллелепипед («коробку»), *Sphere* — использовать охватывающую сферу, *Point* — считать что объект не имеет размеров и использовать его центр для подгонки.
      </dd>
      <dt>Fit Offset</dt>
      <dd>
        Дополнительное смещение, используемое для подгонки. По сути это смещение увеличивает размер объекта для подгонки (коробки или сферы) на указанное значение.
      </dd>
    </dl>

    <div class="note">
      <p>Чтобы функция подгонки работала правильно, всегда зачищайте матрицу Parent Inverse:</p>
      <img src="files/lighting-blender/clear-parent-inverse.jpg" alt="Очистка матрицы parent inverse в Блендере" style="max-width: 266px">
    </div>


    [anchor:camera_control_with_puzzles]

    <h2>Управление камерой с помощью пазлов</h2>

    <p>
      Используйте пазлы <a href="manual/ru/puzzles/Camera.html">камеры</a>, чтобы управлять камерой в реальном времени.
    </p>

    <h2>Остались вопросы?</h2>

    <p>Задайте их на нашем <a href="https://www.soft8soft.com/ru/форумы/" target="_blank">форуме</a>!</p>

  </article></body>
</html>
