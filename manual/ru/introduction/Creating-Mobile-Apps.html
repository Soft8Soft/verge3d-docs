<!DOCTYPE html>
<html lang="ru">
  <head>
    <title>Создание мобильных приложений с помощью Апач Кордова — Софт Эйт Софт</title>
    <meta charset="utf-8">
    <meta name="description" content="Узнайте, как использовать «Апач Кордова» для создания кросс-платформенных приложений для мобильных устройств.">
    <base href="../../../">
    <script src="page.js"></script>
    <link type="text/css" rel="stylesheet" href="page.css">
    <meta property="og:image" content="https://cdn.soft8soft.com/images/cordova.jpg">
    <meta property="article:tag" content="cordova">
  </head>
  <body><article>

    <h1>Создание мобильных приложений с помощью «Апач Кордова»</h1>

    <p>
      «Апач Кордова» — это инструмент, который конвертирует веб-приложения в кроссплатформенные мобильные приложения. «Кордова» в основном используется для создания приложений для платформ «Андроид» и «Ай ОС», однако на ней также можно разрабатывать приложения для «Виндоус», «Мак ОС» и «Линукс». Инструмент полностью бесплатен, прост в использовании и позволяет выполнять расширенную настройку с помощью «Ява Скрипта» (если это необходимо).
    </p>

    <p class="demoNote">
      Чтобы увидеть работу «Кордовы», скачайте игру «Приключения фермера» из магазина <a href="https://apps.apple.com/ru/app/farmers-journey/id1565673160" target="_blank">«Апп Стор»</a>.
    </p>


    [contents]


    [anchor:preliminary_considerations]

    <h2>Введение</h2>

    <p>
      Прежде чем начать работу с «Кордова», убедитесь, что у вас в наличии следующее:
    </p>

    <ul>
      <li>
        Аппаратное обеспечение. Вы можете разрабатывать приложения для «Андроид» на любом компьютере под управлением «Виндоус», «Мак ОС» или «Линукс», в то время как для разработки приложений для устройств «Эпл» потребуется компьютер «Мак».
      </li>

      <li>
        Базовые навыки работы с консолью «Виндоус»/«Мак ОС»/«Линукс» (она же командный интерпретатор). Если у вас их нет, пожалуйста, найдите в Интернете учебники для начинающих.
      </li>

      <li>
        Время. Следуя этому руководству, вы сможете создать свое первое приложение очень быстро. Однако могут пройти часы или дни, прежде чем вы получите одобрение своего аккаунта разработчика и опубликуете свое приложение в «Апп Стор»/«Гугл Плей».
      </li>

      <li>
        Деньги. Создание и запуск приложений на собственных устройствах совершенно бесплатны. Однако для публикации в «Гугл Плей» вам потребуется $25 (единовременная оплата), а для «Апп Стор» — $99 (ежегодная оплата).
      </li>
    </ul>

    <p>
      А хорошая новость заключается в том, что вам не нужно быть разработчиком «Андроид» или «Ай ОС», чтобы создавать приложения для этих платформ. Как только вы запустите свою систему разработки, создание мобильных версий ваших «Вердж3Д»-приложений станет довольно простым делом!
    </p>

    <p class="note">
      Другой способ распространения приложений на десктопах и мобильных платформах — использование устанавливаемых <a href="manual/ru/introduction/App-Manager.html#app_settings_pwa_tab">прогрессивных веб-приложений</a>.
    </p>


    [anchor:getting_cordova]

    <h2>Начало работы с «Апач Кордова»</h2>

    <p>
      Для работы с «Кордова» вам понадобится утилита *npm*, которая является частью среды разработки Node.js. Вы можете установить ее, следуя <a href="https://nodejs.org/en/download/" target="_blank">этим инструкциям</a>.
    </p>

    <p class="notes">
      В «Линуксе» вам лучше установить npm с помощью пакетного менеджера. Смотрите <a href="https://nodejs.org/en/download/package-manager/" target="_blank">здесь</a> для получения дополнительной информации.
    </p>

    <p>
      После установки npm двоичные файлы «Кордова» можно установить с помощью следующей команды.
    </p>

    <p>На «Мак ОС»/«Линукс»:</p>

    <code>sudo npm install -g cordova</code>

    <p>На «Виндоус»:</p>

    <code>npm install -g cordova</code>

    <div class="note">
      <p>Вместо глобальной установки «Кордовы» в систему, вы можете использовать утилиту *npx*, например:</p>
      <code>npx cordova platform add android</code>
    </div>


    [anchor:creating_app_tempalte]

    <h2>Создание шаблона приложения</h2>

    <p>
      Вы можете создать свое мобильное приложение вручную или с помощью утилиты командной строки «Кордова». Однако, чтобы упростить работу, мы интегрировали конструктор шаблонов «Кордова» прямо в диспетчер приложений.
    </p>

    <img src="files/creating-mobile-apps/app-manager-create-native-app.jpg">

    <p>
      С его помощью вы можете создать шаблон приложения «Кордова» прямо из «Вердж3Д».
    </p>

    <img src="files/creating-mobile-apps/app-manager-cordova.jpg">

    <p>
      Когда ваш шаблон будет готов, скачайте его, а затем распакуйте ЗИП-архив в какую-либо директорию.
    </p>


    [anchor:creating_android_app]

    <h2>Создание приложения для «Андроид»</h2>

    <p>
      Перейдите в каталог, где находится ваш шаблон приложения «Кордова», затем добавьте платформу «Андроид»:
    </p>

    <code>cordova platform add android</code>

    <p>
      Теперь самое сложное. Чтобы иметь возможность создавать и тестировать свое приложение в эмуляторе «Андроид» или на реальных устройствах, вам потребуется установить и настроить дополнительное программное обеспечение.
    </p>

    <p>
      Во-первых, вам нужно установить «Андроид Студио» (Android Studio), который скачивается <a href="https://developer.android.com/studio">здесь</a>.
    </p>

    <p>
      После установки «Андроид Студио» необходимо указать путь к ней в значении переменной *ANDROID_SDK_ROOT*. В «Виндоус» вам также нужно будет установить значение переменной *JAVA_HOME* с путем к каталогу Java.
    </p>

    <p>
      Смотрите <a href="https://cordova.apache.org/docs/en/latest/guide/platforms/android/index.html#setting-environment-variables">здесь</a> о том, как выставить эти переменные.
    </p>

    <p>
      Последнее, что вам понадобится, это инструмент сборки *Gradle*. Ознакомьтесь с инструкцией <a href="https://gradle.org/install/">здесь</a> .
    </p>

    <p>
      Чтобы проверить соответствие требованиям сборки, выполните следующую команду в папке вашего приложения:
    </p>

    <code>cordova requirements</code>

    <p>
      Если какая-то зависимость отсутствует, команда сообщит об этом:
    </p>

    <code>
    Requirements check results for android:
    Java JDK: installed 1.8.0
    Android SDK: installed true
    Android target: not installed
    Please install the Android SDK Platform "platforms;android-30"
    Gradle: installed /home/alex/Downloads/gradle-6.3/bin/gradle
    Some of requirements check failed
    </code>

    <p>
      В частности сообщение выше указывает на необходимость установки (или обновления) компонента Android SDK в «Андроид Студио»:
    </p>

    <img src="files/creating-mobile-apps/installing-android-sdk.webp" style="max-width: 986px">

    <p>
      Если все зависимости установлены, вы увидите следующее:
    </p>

    <code>
    Requirements check results for android:
    Java JDK: installed 1.8.0
    Android SDK: installed true
    Android target: installed android-30
    Gradle: installed /home/alex/Downloads/gradle-6.3/bin/gradle
    </code>

    <p>
      Чтобы собрать приложение, выполните:
    </p>

    <code>cordova build android</code>

    <p>
      Чтобы запустить его в эмуляторе «Андроида», убедитесь что вы добавили виртуальное устройство в окне *Device Manager* «Андроид Студио» (оно должно соответствовать версии Android SDK, установленной ранее):
    </p>

    <img src="files/creating-mobile-apps/android-studio-device-manager.webp" style="max-width: 803px">

    <p>
      далее выполните команду:
    </p>

    <code>cordova emulate android</code>

    <p>
      Чтобы запустить ваше приложение на реальном телефоне, подключенном к вашей системе, выполните:
    </p>

    <code>cordova run android</code>


    [anchor:creating_ios_app]

    <h2>Создание приложения для «Ай ОС»</h2>

    <p>
      Перейдите в каталог, где находится ваш шаблон приложения «Кордова», затем добавьте платформу «Ай ОС»:
    </p>

    <code>cordova platform add ios</code>

    <p>
      Теперь самое сложное. Чтобы иметь возможность создавать и тестировать свое приложение в эмуляторе «Ай ОС» или на реальных устройствах, вам потребуется установить и настроить дополнительное программное обеспечение.
    </p>

    <p>
      Сначала вам нужно установить *XCode*, скачайте его из «Мак Апп Стор».
    </p>

    <p>
      Затем установите менеджер пакетов *Homebrew*:
    </p>

    <code class="language-sh">/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"</code>

    <p>
      После этого вам понадобятся инструменты <strong>ios-deploy</strong> .
    </p>

    <code>brew install ios-deploy</code>

    <p>
      Тогда вам понадобится менеджер зависимостей *CocoaPods*:
    </p>

    <code>sudo gem install cocoapods</code>

    <p>
      Чтобы проверить соответствие требованиям сборки, выполните следующую команду в каталоге apps:
    </p>

    <code>cordova requirements</code>

    <p>
      Пришло время запустить ваше приложение, выполните:
    </p>

    <code>cordova emulate ios</code>

    <p>
      чтобы собрать и запустить его в эмуляторе «Ай ОС».
    </p>

    <img src="files/creating-mobile-apps/farmers-journey-ios.jpg" style="max-width: 415px">

    <p>
      Чтобы запустить собранное приложение на реальном телефоне, подключенном к вашей системе, выполните:
    </p>

    <code>cordova run ios</code>

    <p>
      Для запуска на реальном устройстве ваше приложение должно быть зарегистрировано в XCode. Инструкции для ознакомления вы найдёте <a href="https://help.apple.com/xcode/mac/current/#/dev5a825a1ca" target="_blank">здесь</a> .
    </p>



    [anchor:beautifying_things]

    <h2>Улучшаем приложение</h2>


    [anchor:modifying_app_icon]

    <h3>Изменение имени и значка приложения</h3>

    <p>
      Чтобы иметь возможность генерировать значки приложений, установите изображение 512х512 в <a href="manual/ru/introduction/App-Manager.html#app_settings_general_tab">настройках приложения</a>:
    </p>

    <img src="files/creating-mobile-apps/app-icon-512.webp" style="max-width: 707px">

    <p>
      Далее, каждый раз при создании шаблона приложения «Кордовы», это изображение будет использоваться как исходное при генерации линейки иконок с размерами, требуемыми для «Андроида» и «АйОСа». Само масштабирование производится утилитой ImageMagick.
    </p>

    <p>
      Если в установили «Вердж3Д» в «Виндоус», ImageMagick уже входит в дистрибутив, поэтому конвертация произойдёт автоматически.
    </p>

    <p>
      Для «Мак ОС», установите ImageMagick через Homebrew:
    </p>

    <code>brew install imagemagick</code>

    <p>
      Для «Убунту Линукс» используйте менеджер пакетов APT:
    </p>

    <code>sudo apt install imagemagick</code>


    [anchor:cordova_specific_events]

    <h3>Обработка событий, специфичных для «Кордовы»</h3>

    <p>
      Есть 3 события, присущие «Кордова», доступные через «Ява Скрипт» или пазлы, которые вы можете использовать, чтобы сделать ваши приложения более удобными для мобильных устройств:
    </p>

    <ul>
      <li>*deviceready* - срабатывает, когда ваше приложение полностью инициализировано. Вы также можете использовать его для определения того, когда ваше приложение запущено на «Кордова».</li>
      <li>*pause* — срабатывает, когда приложение переходит в фоновый режим или переключается на другое приложение.  Используйте его для приостановки рендеринга приложения / воспроизведения звука / видео и т.д.</li>
      <li>*resume* — срабатывает, когда ваше приложение становится активным. Это событие противоположно *pause*.</li>
    </ul>

    <img src="files/creating-mobile-apps/cordova-events-puzzles.jpg">

    <p>
      Убедитесь, что вы фиксируете эти события в элементе *document*. Также используйте опцию *in parent doc* в случае, если ваше приложение работает в iframe (см. более подробную информацию об этой связке <a href="manual/ru/introduction/HTML-based-user-interfaces.html">здесь</a>).
    </p>

    [anchor:native_ui_dialogs]

    <h3>Создание нативных диалогов</h3>

    <p>
      Используйте плагин <a href="https://cordova.apache.org/docs/en/latest/reference/cordova-plugin-dialogs/index.html" target="_blank">cordova-plugin-dialogs</a>.
    </p>


    [anchor:more_features]

    <h3>Дополнительные возможности</h3>

    <p>
      Вы можете создать полнофункциональное приложение с доступом к камере, информации о батарее, файловой системе устройства, геолокации и т.д. Смотрите соответствующий плагин в <a href="https://cordova.apache.org/docs/en/latest/" target="_blank">документации «Кордова»</a>.
    </p>


    [anchor:publishing]

    <h2>Публикация приложения</h2>

    <p>
      Ознакомьтесь с инструкцией <a href="https://jackmckew.dev/releasing-cordova-apps-on-google-play-app-store.html" target="_blank">здесь</a>.
    </p>


    <h2>Остались вопросы?</h2>

    <p>Задайте их на нашем <a href="https://www.soft8soft.com/ru/форумы/" target="_blank">форуме</a>!</p>

  </article></body>
</html>
