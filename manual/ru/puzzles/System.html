<!DOCTYPE html>
<html lang="ru">
  <head>
    <title>Системные пазлы (System) — Софт Эйт Софт</title>
    <meta charset="utf-8">
    <meta name="description" content="Эти пазлы могут использоваться для выполнения различных системных функций, таких как вывод в консоль, измерение производительности, получение/установка плотности пикселей, получение информации о GPU и использование постоянного браузерного хранилища.">
    <base href="../../../">
    <script src="page.js"></script>
    <link type="text/css" rel="stylesheet" href="page.css">
  </head>
  <body><article>

    <h1>Системные пазлы (System)</h1>

    <p>
      Эти пазлы могут использоваться для выполнения различных системных функций, таких как вывод в консоль, измерение производительности, получение/установка плотности отображаемых пикселей, получение информации о GPU и использование постоянного браузерного хранилища.
    </p>

    <img src="files/puzzles/puzzles-system.jpg">

    <h2>Содержание</h2>

    [contents]


    [anchor:puzzles_reference]

    <h2>Перечень пазлов</h2>


    [anchor:print_to_console]

    <h3>print to console</h3>

    <p>
      Выводит данные любого типа (вывод из какого-либо пазла, переменную или просто текст) в браузерную <a href="manual/ru/introduction/FAQ.html#browser_console">консоль</a>. Вывод в консоль является наиболее универсальным и простым в использовании методом отладки ваших скриптов.
    </p>

    <img src="files/puzzles/puzzles-system-print-console.jpg">


    [anchor:print_performance_info]

    <h3>print performance info</h3>

    <p>
      Записывает профиль производительности в течение 1 секунды и выводит его в браузерную <a href="manual/ru/introduction/FAQ.html#browser_console">консоль</a>. Используйте этот профиль для поиска узких мест производительности и улучшения скорости рендеринга и загрузки приложений. Подробнее <a href="manual/ru/introduction/Performance-Bottlenecks.html#performance_profile">здесь</a>.
    </p>

    <img src="files/puzzles/puzzles-system-print-performance-info.webp">


    [anchor:check_performance]

    <h3>check performance</h3>

    <p>
      Измеряет производительность пользовательского компьютера или устройства. Внутри пазла используется открытая библиотека <a href="https://github.com/Soft8Soft/detect-gpu-js" target="_blank">Detect GPU</a>, чтобы быстро найти готовый результат измерения производительности и выдать характеристику GPU пользователя как "good" (хорошая) or "poor" (плохая).
    </p>

    <img src="files/puzzles/puzzles-system-check-performance.jpg">

    <p>
      В зависимости от вызываемого слота пазла, вы можете выключать какие-то функции (такие как эффекты постобработки) для медленных GPU. С другой стороны, если GPU пользователя выглядит мощным, вы можете выдать более хорошее качество рендеринга.
    </p>

    <p>
      Результат измерения производительности также доступен на странице <a href="http://soft8soft.com/webglreport" target="_blank">WebGL Report</a>, которую можно открыть в любом браузере.
    </p>

    <img src="files/puzzles/webgl-report-performance-output.png" style="max-width: 705px">

    <p class="note">
      Если пазл выдаёт "good", это не значит, что вы можете делать тяжёлую графику. Даже в этом случае вам нужно тщательно оптимизировать приложение!
    </p>


    [anchor:feature_available]

    <h3>feature available</h3>

    <p>
      Проверяет, доступна ли функция, выбранная из выпадающего списка, в браузере пользователя. Если функция доступна, пазл возвращает `true`, если нет, то `false`.
    </p>

    <img src="files/puzzles/puzzles-system-feature-available.jpg">

    <p>Функции, которые могут быть проверены с помощью этого пазла:</p>

    <table>
      <tr>
        <th>Функция</th>
        <th>Описание</th>
      </tr>
      <tr>
        <td>Mobile Device</td>
        <td>Приложение запущено на мобильном устройстве (телефоне, планшете или портативном устройстве виртуальной реальности).</td>
      <tr>
      </tr>
      <tr>
        <td>Android</td>
        <td>Приложение запущено на устройстве с ОС «Андроид».</td>
      </tr>
      <tr>
        <td>iOS</td>
        <td>Приложение запущено на устройстве с ОС «АйОС» или «АйпадОС».</td>
      </tr>
      <tr>
        <td>Windows</td>
        <td>Приложение запущено на устройстве с ОС «Виндоус».</td>
      </tr>
      <tr>
        <td>macOS</td>
        <td>Приложение запущено на устройстве с «Мак ОС».</td>
      </tr>
      <tr>
        <td>ChromeOS</td>
        <td>Приложение запущено на устройстве с «Хром ОС».</td>
      </tr>
      <tr>
        <td>Linux</td>
        <td>Приложение запущено на «Линуксе» («Убунту», «Федора» и т.д.).</td>
      </tr>
      <tr>
        <td>Google Chrome</td>
        <td>Приложение запущено в браузере «Гугл Хром» или на одном из его клонов («Хромиум», «Брейв», но не «Эдж»).</td>
      </tr>
      <tr>
        <td>Firefox</td>
        <td>Приложение запущено в браузере «Файрфокс».</td>
      </tr>
      <tr>
        <td>Internet Explorer</td>
        <td>Всегда `false`, поскольку «Интернет Эксплорер» давно не поддерживается в «Вердж3Д». Эта функция остаётся для совместимости.</td>
      </tr>
      <tr>
        <td>Microsoft Edge</td>
        <td>Приложение запущено в браузере «Майкрософт Эдж».</td>
      </tr>
      <tr>
        <td>Safari</td>
        <td>Приложение запущено в браузере «Сафари».</td>
      </tr>
      <tr>
        <td>Touch Screen</td>
        <td>Система имеет сенсорный экран («тачскрин»).</td>
      </tr>
      <tr>
        <td>Retina Display (HiDPI)</td>
        <td>Система имеет экран с высокой плотностью пикселей («Ретина»), т.е. его параметр <a href="manual/ru/puzzles/System.html#native_screen_scale">native screen scale</a> больше или равен `2`.</td>
      </tr>
      <tr>
        <td>High Dynamic Range (HDR)</td>
        <td>«Вердж3Д» приложение запущено в режиме высокого динамического диапазона. Эта характеристика не имеет отношения к поддержке системой пользователя HDR-мониторов.</td>
      </tr>
      <tr>
        <td>Web Audio API</td>
        <td>Система поддерживает технологию Web Audio (в настоящее время практически всегда поддерживается).</td>
      </tr>
      <tr>
        <td>WebGL</td>
        <td>Система поддерживает WebGL (по крайней мере версию 1.0 этого стандарта).</td>
      </tr>
      <tr>
        <td>WebGL 2.0</td>
        <td>Система поддерживает WebGL версии 2.0.</td>
      </tr>
      <tr>
        <td>WooCommerce</td>
        <td>Приложение запущено на продуктовой странице, созданной с помощью плагина к «Вордпрессу» — «Ву Коммерц».</td>
      </tr>
      <tr>
        <td>Do Not Track</td>
        <td>Браузер выставил настройку "Do Not Track". Эта функция считается устаревшей и больше не используется.</td>
      </tr>
    </table>


    [anchor:get_GPU]

    <h3>get GPU</h3>

    <p>
      Выводит информацию о GPU пользователя: производитель (*vendor*), например: NVIDIA Corporation, Apple Inc., Qualcomm, и модель (*model*), например: GeForce GTX 1060 3GB/PCIe/SSE2, Apple A9 GPU, Adreno (TM) 330.
    </p>

    <img src="files/puzzles/puzzles-system-get-GPU.jpg">


    [anchor:set_screen_scale]

    <h3>set screen scale</h3>

    <p>
      Устанавливает коэффициент разрешения для 3Д-холста. Установите &gt;`1` для улучшения качества, &lt;`1` для улучшения производительности. `1` — это масштаб экрана по умолчанию независимо от плотности пикселей экрана.
    </p>

    <img src="files/puzzles/puzzles-system-set-screen-scale.webp">

    <p>
      Чтобы предотвратить рендеринг слишком большого количества пикселей на дисплеях с высокой плотностью, «Вердж3Д» использует по умолчанию коэффициент масштабирования равный 1. Если производительность не вызывает беспокойства, включите рендеринг с высокой плотностью пикселей, установив масштаб экрана на <a href="manual/ru/puzzles/System.html#native_screen_scale">«родной»</a>, в противном случае можно выставить какое-нибудь промежуточное значение (например 1.5).
    </p>


    [anchor:native_screen_scale]

    <h3>native screen scale</h3>

    <p>
      «Родной» (зависит от аппаратного обеспечения и масштабирования браузера) коэффициент разрешения 3Д-холста. Если вы не <em>увеличиваете</em> или не <em>уменьшаете</em> вашу страницу, это значение равно 1 для обычных экранов и &gt;1 для HiDPI-мониторов, современных смартфонов и планшетов.
    </p>

    <img src="files/puzzles/puzzles-system-native-screen-scale.jpg">


    [anchor:detect_gamepad]

    <h3>detect gamepad device</h3>

    <p>
      Определяет игровые манипуляторы («геймпады»), подключенные к системе или отключенные от нее. При обнаружении нового устройства срабатывают пазлы, указанные в слоте *once connected do*. При отключении устройства срабатывают пазлы, указанные в слоте *once disconnected do*. В любом случае значение <a href="manual/ru/puzzles/System.html#gamepad_index">gamepad index</a> устанавливается и возвращает индекс устройства.
    </p>

    <img src="files/puzzles/puzzles-system-detect-gamepad.jpg">


    [anchor:gamepad_index]

    <h3>gamepad index</h3>

    <p>
      Возвращает индекс подключенного/отключенного игрового манипулятора.
    </p>

    <img src="files/puzzles/puzzles-system-gamepad-index.webp">


    [anchor:get_gamepad_prop]

    <h3>get gamepad property</h3>

    <p>
      Возвращает свойство игрового манипулятора для устройства с заданным индексом.
    </p>

    <img src="files/puzzles/puzzles-system-get-gamepad-prop.jpg" style="max-width: 951px">

    <p>Свойства:</p>

    <ul>
      <li>*connection status* — подключено ли устройство (выдает <em>true</em>) или отключено (выдает <em>false</em>).</li>
      <li>*axis* — положение оси («джойстика») устройства в диапазоне <em>-1.0–1.0</em>. Например аналоговый джойстик для большого пальца, встречающийся на всех последних моделях геймпадов, представлен двумя осями: влево-вправо и вверх-вниз.</li>
      <li>*button* — состояние кнопок устройства. Выдает <em>true</em> когда кнопка нажата, в противном случае <em>false</em> .</li>
      <li>*analog button* — состояние аналоговых кнопок. Аналогичен *button*, но может определять усилие нажатия на кнопку. Выдает значение в диапазоне <em>0–1</em>.</li>
      <li>*id* — строка идентификатора устройства. Определяет марку и модель подключенного устройства.</li>
      <li>*timestamp* — время, когда были обновлены оси/кнопки игрового манипулятора. Вы можете хранить это значение в переменной и сравнивать с текущей меткой времени каждый кадр, чтобы определить, что какой-то джойстик/кнопка были передвинуты/нажаты.</li>
      <li>*mapping* — раскладка устройства: "standard" для стандартных манипуляторов, "xr-standard" для манипуляторов, используемых в виртуальной и дополненной реальности, "" (пустая строка) для неизвестных устройств.</li>
      <li>*debug info* — выходная строка с отладочной информацией. Выведите эту информацию с помощью пазла <a href="manual/ru/puzzles/System.html#print_to_console">print to console</a>, чтобы узнать, какие кнопки или джойстики доступны на подключенном игровом манипуляторе.</li>
    </ul>

    [demo:farmers_journey Приключения фермера]

    <p>
      Для назначения кнопок/джойстиков в вашем приложении используйте инструмент <a href="https://www.soft8soft.com/gamepad_diagnostics/gamepad_diagnostics.html" target="_blank">«Диагностика геймпада»</a>, свойство *debug info* или следуйте стандартной раскладке геймпада (работает не для всех типов устройств):
    </p>

    <img src="files/puzzles/standard-gamepad.svg" style="max-width: 800px">

    <p>Для геймпадов устройств <em>виртуальной реальности</em> раскладка отличается:</p>

    <img src="files/puzzles/xr-standard-gamepad.svg" style="max-width: 700px">


    [anchor:local_storage_set]

    <h3>storage set</h3>

    <p>
      Сохраняет ключ-значение в локальном хранилище браузера. Информация записанная в локальное хранилище не имеет срока давности и сохраняется даже при закрытии браузера. Замечение: локальное хранилище в «приватном» или «инкогнито»-режимах удаляется сразу после закрытия последней вкладки.
    </p>

    <p>
      Ключ должен быть строкой. В качестве значения можно использовать следующие типы данных: число, строка, список, словарь.
    </p>

    <img src="files/puzzles/puzzles-system-local-storage-set.jpg">


    [anchor:local_storage_get]

    <h3>storage get</h3>

    <p>
      Возвращает значение из локального хранилища браузера по заданному ключу.
    </p>

    <img src="files/puzzles/puzzles-system-local-storage-get.jpg">


    [anchor:local_storage_remove]

    <h3>storage remove</h3>

    <p>
      Удаляет значение из локального хранилища браузера по заданному ключу.
    </p>

    <img src="files/puzzles/puzzles-system-local-storage-remove.jpg">


    [anchor:local_storage_check]

    <h3>storage check</h3>

    <p>
      Проверяет, существует ли значение связанное с заданным ключём в локальном хранилище браузера.
    </p>

    <img src="files/puzzles/puzzles-system-local-storage-check.jpg">


    [anchor:close_app]

    <h3>close app</h3>

    <p>
      Закрывает «Вердж3Д»-приложение. Из-за ограничений безопасности, накладываемых браузерами, этот пазл работает только для приложений, сделанных на <a href="manual/ru/introduction/Creating-Desktop-Apps.html">«Электроне»</a>, <a href="manual/ru/introduction/Creating-Mobile-Apps.html">«Кордове»</a> и страниц открытых <a href="manual/ru/puzzles/HTML.html#open_web_page">программным способом</a>.
    </p>

    <img src="files/puzzles/puzzles-system-close-app.webp">


    <h2>Проблемы с пазлами?</h2>

    <p>Обращайтесь за помощью на наш <a href="https://www.soft8soft.com/ru/форумы/" target="_blank">форум</a>!</p>

  </article></body>
</html>
