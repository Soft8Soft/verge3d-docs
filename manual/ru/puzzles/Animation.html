<!DOCTYPE html>
<html lang="ru">
  <head>
    <title>Пазлы анимации и ограничителей (Animation/Constraints) — Софт Эйт Софт</title>
    <meta charset="utf-8">
    <meta name="description" content="Как управлять анимацией и ограничителями с помощью блоков визуального программирования Вердж3Д.">
    <base href="../../../">
    <script src="page.js"></script>
    <link type="text/css" rel="stylesheet" href="page.css">
  </head>
  <body><article>

    <h1>Пазлы анимации и ограничителей (Animation+Constraints)</h1>

    <p>
      Пазлы из этой категории используются для выполнения операций с анимационными клипами и процедурной анимацией, а также для ограничения движения объектов.
    </p>

    <img src="files/puzzles/puzzles-animation.webp">


    <h2>Содержание</h2>

    [contents]


    [anchor:puzzles_reference]

    <h2>Перечень анимационных пазлов</h2>

    [anchor:play_animation]

    <h3>play animation</h3>

    <p>
      Воспроизводит анимационный клип. Имена анимационных клипов соответствуют объектам, которым назначена анимация в «Блендере», «3дс Максе» и «Майе» (на один объект может быть назначен только один анимационный клип). Используйте пазл <a href="manual/ru/puzzles/Selectors.html#select_animation" target="_parent">animation selector</a> чтобы назначить клип анимации для этого пазла. В выпадающем списке можно изменить режим анимации — *auto* позволяет использовать режим анимации, заданный в «Блендере», «3дс Максе» или «Майе»; в то время как другие режимы переопределяют настройки, заданные в соответствующем пакете.
    </p>

    <img src="files/puzzles/puzzles-animation-play.webp">

    <p>
      Используйте поля *from* и *to* для указания диапазона кадров. Используйте поле *speed* для указания скорости воспроизведения. Переключатель *reversed* включает реверсивное воспроизведение.
    </p>

    <img src="files/puzzles/puzzles-animation-play-advanced.webp">

    <p>
      Пазлы в слоте <strong>when finished: do</strong> обрабатываются после завершения анимации (это работает только для режима анимации *once*).
    </p>

    <img src="files/puzzles/puzzles-animation-play-finished.webp">

    <p>
      Этот пазл также работает для списка анимационных клипов.
    </p>


    [anchor:stop_animation]

    <h3>stop animation</h3>

    <p>
      Останавливает воспроизведение анимационного клипа и устанавливает его текущий кадр в ноль. Также работает для списка анимационных клипов.
    </p>

    <img src="files/puzzles/puzzles-animation-stop.webp">

    <p class="note">
      Этот пазл не вызывает пазлы, указанные в слоте *when finished do* пазла <a href="manual/ru/puzzles/Animation.html#play_animation">play animation</a>.
    </p>


    [anchor:pause_animation]

    <h3>pause animation</h3>

    <p>
      Приостанавливает воспроизведение анимационного клипа, чтобы его можно было возобновить позже, начиная с кадра, на котором он был приостановлен. Также работает для списка анимационных клипов.
    </p>

    <img src="files/puzzles/puzzles-animation-pause.webp">


    [anchor:resume_animation]

    <h3>resume animation</h3>

    <p>
      Возобновляет ранее приостановленный анимационный клип. Также работает для списка анимационных клипов.
    </p>

    <img src="files/puzzles/puzzles-animation-resume.webp">


    [anchor:set_animation_frame]

    <h3>set animation frame</h3>

    <p>
      Устанавливает анимационный клип на указанный кадр. Также работает для списка анимационных клипов.
    </p>

    <img src="files/puzzles/puzzles-animation-set-animation-frame.webp">


    [anchor:get_animation_frame]

    <h3>get animation frame</h3>

    <p>
      Получает текущий кадр анимационного клипа.
    </p>

    <img src="files/puzzles/puzzles-animation-get-animation-frame.jpg">


    [anchor:is_animation_playing]

    <h3>is animation playing</h3>

    <p>
      Проверяет, воспроизводится ли в данный момент анимационный ролик (или любая анимация из списка).
    </p>

    <img src="files/puzzles/puzzles-animation-is-playing.jpg">


    [anchor:set_animation_speed]

    <h3>set animation speed</h3>

    <p>
      Устанавливает скорость проигрывания анимации с текущего момента воспроизведения (сброса в начало не происходит). Переключатель *reversed* инвертирует направление проигрывания анимации (эквивалентно умножению скорости на -1). Данный пазл также работает со списком анимаций.
    </p>

    <img src="files/puzzles/puzzles-animation-set-animation-speed.jpg" style="max-width: 1104px;">


    [anchor:get_animation_speed]

    <h3>get animation speed</h3>

    <p>
      Возвращает текущую скорость проигрывания анимации.
    </p>

    <img src="files/puzzles/puzzles-animation-get-animation-speed.jpg">


    [anchor:on_animation_frame_do]

    <h3>on animation frame do</h3>

    <p>
      Вызывает пазлы указанные в слоте *do* по достижении кадра *frame*.
    </p>

    <img src="files/puzzles/puzzles-animation-on-animation-frame-do.jpg">


    [anchor:get_animation]

    <h3>get animation of</h3>

    <p>
      Получает анимационный ролик указанного объекта. Также работает для списка объектов, группы (или списка групп) или с пазлом <a href="manual/ru/puzzles/Selectors.html#all_objects">all objects</a>. Возвращаемое значение всегда представляет собой список анимационных клипов (даже если среди них есть только один).
    </p>

    <img src="files/puzzles/puzzles-animation-get-animation.jpg">


    [anchor:clone_animation]

    <h3>clone animation</h3>

    <p>
      Клонирует анимационный ролик (или список анимаций) в указанном диапазоне.
    </p>

    <img src="files/puzzles/puzzles-animation-clone-animation.jpg">




    [anchor:animate_param]

    <h3>animate param</h3>

    <p>
      Анимирует числовой параметр (или все параметры в списке или <a href="manual/ru/puzzles/Dictionaries.html">словаре</a>) между *from* и *to*, в течение периода, заданного *duration* (в секундах). Раскрывающийся список *easing* позволяет указать режим анимации (смотрите ниже).
    </p>

    <p>
      Поле *repeat* задает количество повторений после завершения первой анимации. Переключатель *yoyo* включает движение назад (работает для *repeat* > 1).
    </p>

    <p>
      Пазлы в слоте *on update do* запускаются каждый кадр рендеринга, пока параметр анимирован. Пазлы в слоте *when finished do* срабатывают по завершении анимации.
    </p>

    <img src="files/puzzles/puzzles-animation-animate-param.jpg">

    <p>
      Этот пазл оборачивает библиотеку <a href="https://github.com/tweenjs/tween.js/blob/master/docs/user_guide.md" target="_blank">Tween.js</a>, раскрывая содержащиеся в ней <a href="http://tweenjs.github.io/tween.js/examples/03_graphs.html" target="_blank">31 режим смягчения</a> (на рисунке), настройки длительности, повтора и йойо, а также обратные вызовы обновления и завершения.
    </p>

    <img src="files/puzzles/puzzles-animation-animate-param-easing-modes.jpg">

    <p>
      Промежуточное значение может быть получено с помощью пазла <a href="manual/ru/puzzles/Animation.html#updated_value">updated value</a>, обычно помещаемого в слот *on update do*.
    </p>


    [anchor:updated_value]

    <h3>updated value</h3>

    <p>
      Возвращает промежуточное значение, полученное с помощью пазла <a href="manual/ru/puzzles/Animation.html#animate_param">animate param</a>. В зависимости от типа анимированного параметра может быть числом, списком или <a href="manual/ru/puzzles/Dictionaries.html">словарем</a>.
    </p>

    <img src="files/puzzles/puzzles-animation-updated-value.jpg">

    <p>
      Этот пазл может быть размещен в любом месте сценария, но лучше всего работает в слоте *on update do* пазла <a href="manual/ru/puzzles/Animation.html#animate_param">animate param</a>, где он обновляется каждый кадр.
    </p>


    [anchor:animate_param_stop]

    <h3>stop animate param</h3>

    <p>
      Останавливает анимацию запущенную пазлом <a href="manual/ru/puzzles/Animation.html#animate_param">animate param</a>.
    </p>

    <img src="files/puzzles/puzzles-animation-animate-param-stop.jpg">


    [anchor:constraints_puzzles_reference]

    <h2>Перечень пазлов ограничителей</h2>

    <p>
      Если один объект не является родительским по отношению к другому, ограничители будут работать в мировом пространстве. В противном случае они будут работать в пространстве родительского объекта — вы можете выделить родительский объект в «Блендере», «3дс Максе» или «Майе», чтобы показать оси координат.
    </p>


    [anchor:limit_transform]

    <h3>limit transform</h3>

    <p>
      Создает ограничитель положения, поворота или масштаба объекта вдоль выбранной оси. Идентификатор *id* должен быть уникальным, иначе существующий ограничитель с таким же *id* будет заменён. Слоты *min* и *max* задают диапазон, в котором разрешено перемещение.
    </p>

    <img src="files/puzzles/puzzles-constraints-limit-transform.jpg">


    [anchor:copy_transform]

    <h3>copy transform</h3>

    <p>
      Создает ограничитель для копирования положения, поворота или масштаба объекта из другого объекта. Идентификатор *id* должен быть уникальным, иначе существующий ограничитель с таким же *id* будет заменён.
    </p>

    <img src="files/puzzles/puzzles-constraints-copy-transform.jpg">


    [anchor:remove_mute_unmute_constraint]

    <h3>remove / mute / unmute constraint</h3>

    <p>
      Удаляет, отключает или включает ограничитель, назначенный указанному объекту. Другие ограничители, назначенные этому объекту (если таковые имеются), останутся нетронутыми.
    </p>

    <img src="files/puzzles/puzzles-constraints-remove-mute-unmute-constraint.jpg">



    <h2>Проблемы с пазлами?</h2>

    <p>Обращайтесь за помощью на наш <a href="https://www.soft8soft.com/ru/форумы/" target="_blank">форум</a>!</p>


  </article></body>
</html>
